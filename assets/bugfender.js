/*! For license information please see bugfender-v2.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["@bugfender/sdk"]=t():e["@bugfender/sdk"]=t()}(self,(()=>(()=>{var __webpack_modules__={7496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7431:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7496),t),o(r(8704),t),o(r(4596),t),o(r(8836),t),o(r(6758),t),o(r(2922),t),o(r(8287),t),o(r(5484),t),o(r(9929),t)},8704:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_LEVELS=t.LogLevel=void 0,function(e){e[e.Debug=0]="Debug",e[e.Warning=1]="Warning",e[e.Error=2]="Error",e[e.Trace=3]="Trace",e[e.Info=4]="Info",e[e.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={})),t.LOG_LEVELS=[r.Debug,r.Warning,r.Error,r.Trace,r.Info,r.Fatal]},4596:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function n(e){Object.entries(e).forEach((function(t){var r=t[0];void 0===t[1]&&delete e[r]}))}Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.removeUndefinedProperties=t.prepareOptions=void 0,t.prepareOptions=function(e){return n(e=r({},e)),function(e,t){["build","version"].forEach((function(t){var r=e[t];"string"==typeof r&&""===r.trim()&&delete e[t]}))}(e),e},t.removeUndefinedProperties=n,t.validate=function(e,t){var r=new RegExp(/^http(s)?:\/\//i);Object.entries(t).forEach((function(t){var n=t[0],o=t[1],i=e[n];o.forEach((function(e){if("required"===e){if(void 0===i)throw new Error("Bugfender requires '".concat(n,"' option to initialize."))}else if("string"===e){if(!["string","undefined"].includes(typeof i))throw new Error("'".concat(n,"' option must be a string."))}else if("url"===e){if(void 0!==i&&!r.test(i))throw new Error("'".concat(n,"' option must be a valid URL."))}else if("boolean"===e&&!["boolean","undefined"].includes(typeof i))throw new Error("'".concat(n,"' option must be a boolean."))}))}))}},8836:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrintToConsole=void 0;var n=r(9539),o=r(8704),i=function(){function e(e){this.console=e,this.printToConsole=!1}return e.prototype.init=function(e){this.printToConsole=e},e.prototype.error=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).error.apply(e,t)},e.prototype.info=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).info.apply(e,t)},e.prototype.log=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).log.apply(e,t)},e.prototype.debug=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).debug.apply(e,t)},e.prototype.trace=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).trace.apply(e,t)},e.prototype.warn=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).warn.apply(e,t)},e.prototype.printLog=function(e){if(this.printToConsole){var t=["log","warn","error","trace","info","error"][e.level||o.LogLevel.Debug],r=e.tag?"[".concat(e.tag,"] "):"",i=[e.file||"",e.method||"",e.line||""].filter((function(e){return""!==e})).join(":"),s="".concat(r).concat((0,n.format)(e.text)," ").concat(i);this.console[t](s)}},e}();t.PrintToConsole=i},6758:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterErrorHandler=void 0;var r=function(){function e(e){this.window=e,this.rejectionsMap=new Map}return e.prototype.init=function(e){var t=this;this.bugfender=e,this.window.addEventListener("error",(function(e){var r=e.message,n=e.lineno,o=e.filename,i=e.error;t.logError(r,o,n,i)})),this.window.addEventListener("unhandledrejection",(function(e){var r=setTimeout((function(){t.logError("Potentially unhandled promise",void 0,void 0,e.reason)}),1);t.rejectionsMap.set(e.promise,r),e.preventDefault()})),this.window.addEventListener("rejectionhandled",(function(e){clearTimeout(t.rejectionsMap.get(e.promise)),t.rejectionsMap.delete(e.promise)}))},e.prototype.logError=function(e,t,r,n){var o;n&&n.stack&&(o=n.stack),"string"==typeof e&&this.bugfender.sendCrash(e,["Error: ".concat(e),"URL: ".concat(null!=t?t:"N/A"),"Line: ".concat(null!=r?r:"N/A"),"Stack: ".concat(null!=o?o:"N/A")].join("\n"))},e}();t.RegisterErrorHandler=r},2922:function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.formatLogEntryText=t.format=void 0;var o=r(9539),i=r(8287);function s(e){var t=e.slice(1),r=e[0];try{r=(0,i.mapToString)(r)}catch(e){r=(0,o.format)(r)}return t.length>0?o.format.apply(void 0,n([r],t,!1)):r}t.format=s,t.formatLogEntryText=function(e){return"string"==typeof e?e:function(e){return Array.isArray(e)}(e)?s(e):""}},8287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapToString=t.mapToNumber=void 0,t.mapToNumber=function(e){var t=Number(e);if(isNaN(t))throw new Error("Can't be casted to number");return t},t.mapToString=function(e){if(["string","symbol","bigint","function"].includes(typeof e)||e instanceof Error)try{return String(e)}catch(t){return JSON.stringify(e)}else try{return JSON.stringify(e)}catch(t){return String(e)}}},9929:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.UserFeedbackOptionsValidator=void 0;var n={title:"Feedback",hint:"Please insert your feedback here and click send",subjectPlaceholder:"Subject…",feedbackPlaceholder:"Your feedback…",submitLabel:"Send",closeLabel:"Close"},o=function(){function e(){}return e.prototype.init=function(e){return r(r({},n),null!=e?e:{})},e}();t.UserFeedbackOptionsValidator=o},5484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6177:function(e,t,r){e=r.nmd(e),function(){var t,r,n,o;for(n=(null!==e?e.exports:void 0)||(window.Base58={}),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",r={},o=0;o<t.length;)r[t.charAt(o)]=o,o++;n.encode=function(e){var r,n,i;if(0===e.length)return"";for(o=void 0,i=void 0,n=[0],o=0;o<e.length;){for(i=0;i<n.length;)n[i]<<=8,i++;for(n[0]+=e[o],r=0,i=0;i<n.length;)n[i]+=r,r=n[i]/58|0,n[i]%=58,++i;for(;r;)n.push(r%58),r=r/58|0;o++}for(o=0;0===e[o]&&o<e.length-1;)n.push(0),o++;return n.reverse().map((function(e){return t[e]})).join("")},n.decode=function(e){var t,n,i,s;if(0===e.length)return new("undefined"!=typeof Uint8Array&&null!==Uint8Array?Uint8Array:Buffer)(0);for(o=void 0,s=void 0,t=[0],o=0;o<e.length;){if(!((n=e[o])in r))throw"Base58.decode received unacceptable input. Character '"+n+"' is not in the Base58 alphabet.";for(s=0;s<t.length;)t[s]*=58,s++;for(t[0]+=r[n],i=0,s=0;s<t.length;)t[s]+=i,i=t[s]>>8,t[s]&=255,++s;for(;i;)t.push(255&i),i>>=8;o++}for(o=0;"1"===e[o]&&o<e.length-1;)t.push(0),o++;return new("undefined"!=typeof Uint8Array&&null!==Uint8Array?Uint8Array:Buffer)(t.reverse())}}.call(this)},1206:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(r),s=Math.max(o,i),a=0,c=e.map([t,r],(function(t){var r=s-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(a=s-Math.min(o,i)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var o=e[r];if(t(o,r))return o}},e.assign=function(e){for(var t,r,n=e,o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var a=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=i.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){}var t,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],null&&s(t.prototype,null),r&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),o=c(r(93)),i=c(r(94)),s=c(r(95)),a=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,o={},i=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(o[t]=s,i+=1):"object"==typeof s&&(r[t]=s,n+=1)})),n>0){var s=Object.keys(r),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(r[l]);if(void 0!==d)return d}}if(i>0){var f=Object.keys(o),p=a.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(o[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),o=a.default.getBrowserTypeByAlias(n);return t&&o&&(n=o.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(o,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},r=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=o.default.getMacOSVersionName(t),n={name:i.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=o.default.getAndroidVersionName(t),n={name:i.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:i.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},r=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},r=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},r=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},r=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=s,e.exports=t.default}})},8991:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPEN_BROADCAST_CHANNELS=t.BroadcastChannel=void 0,t.clearNodeFolder=function(e){e=(0,i.fillOptionsWithDefaults)(e);var t=(0,o.chooseMethod)(e);return"node"===t.type?t.clearNodeFolder().then((function(){return!0})):n.PROMISE_RESOLVED_FALSE},t.enforceOptions=function(e){a=e};var n=r(6202),o=r(4632),i=r(423),s=new Set;t.OPEN_BROADCAST_CHANNELS=s;var a,c=0,u=function(e,t){var r,u;this.id=c++,s.add(this),this.name=e,a&&(t=a),this.options=(0,i.fillOptionsWithDefaults)(t),this.method=(0,o.chooseMethod)(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,u=(r=this).method.create(r.name,r.options),(0,n.isPromise)(u)?(r._prepP=u,u.then((function(e){r._state=e}))):r._state=u};function l(e,t,r){var o={time:e.method.microSeconds(),type:t,data:r};return(e._prepP?e._prepP:n.PROMISE_RESOLVED_VOID).then((function(){var t=e.method.postMessage(e._state,o);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function d(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function f(e,t,r){e._addEL[t].push(r),function(e){if(!e._iL&&d(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var r=e.time-1e5;t.time>=r&&e.fn(t.data)}))},r=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,r)})):(e._iL=!0,e.method.onMessage(e._state,t,r))}}(e)}function p(e,t,r){e._addEL[t]=e._addEL[t].filter((function(e){return e!==r})),function(e){if(e._iL&&!d(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}t.BroadcastChannel=u,u._pubkey=!0,u.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return l(this,"message",e)},postInternal:function(e){return l(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};p(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,f(this,"message",t)):this._onML=null},addEventListener:function(e,t){f(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){p(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){s.delete(this),this.closed=!0;var t=this._prepP?this._prepP:n.PROMISE_RESOLVED_VOID;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}}},8437:(e,t,r)=>{"use strict";var n=r(5585);e.exports={BroadcastChannel:n.BroadcastChannel,createLeaderElection:n.createLeaderElection,clearNodeFolder:n.clearNodeFolder,enforceOptions:n.enforceOptions,beLeader:n.beLeader}},5585:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BroadcastChannel",{enumerable:!0,get:function(){return n.BroadcastChannel}}),Object.defineProperty(t,"OPEN_BROADCAST_CHANNELS",{enumerable:!0,get:function(){return n.OPEN_BROADCAST_CHANNELS}}),Object.defineProperty(t,"beLeader",{enumerable:!0,get:function(){return o.beLeader}}),Object.defineProperty(t,"clearNodeFolder",{enumerable:!0,get:function(){return n.clearNodeFolder}}),Object.defineProperty(t,"createLeaderElection",{enumerable:!0,get:function(){return o.createLeaderElection}}),Object.defineProperty(t,"enforceOptions",{enumerable:!0,get:function(){return n.enforceOptions}});var n=r(8991),o=r(6550)},6550:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beLeader=a,t.createLeaderElection=function(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(t,e);var r=new i(e,t);return e._befC.push((function(){return r.die()})),e._leaderElector=r,r};var n=r(6202),o=r(4810),i=function(e,t){var r=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=(0,n.randomToken)(),this._aplQ=n.PROMISE_RESOLVED_VOID,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var o=function(e){"leader"===e.context&&("death"===e.action&&(r.hasLeader=!1),"tell"===e.action&&(r.hasLeader=!0))};this.broadcastChannel.addEventListener("internal",o),this._lstns.push(o)};function s(e,t){var r={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(r)}function a(e){e.isLeader=!0,e.hasLeader=!0;var t=(0,o.add)((function(){return e.die()}));e._unl.push(t);var r=function(t){"leader"===t.context&&"apply"===t.action&&s(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),s(e,"tell"))};return e.broadcastChannel.addEventListener("internal",r),e._lstns.push(r),s(e,"tell")}i.prototype={applyOnce:function(e){var t=this;return this.isLeader?(0,n.sleep)(0,!0):this.isDead?(0,n.sleep)(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(t.isLeader)return n.PROMISE_RESOLVED_TRUE;var r,o=!1,i=new Promise((function(e){r=function(){o=!0,e()}})),c=function(e){"leader"===e.context&&e.token!=t.token&&("apply"===e.action&&e.token>t.token&&r(),"tell"===e.action&&(r(),t.hasLeader=!0))};t.broadcastChannel.addEventListener("internal",c);var u=e?4*t._options.responseTime:t._options.responseTime;return s(t,"apply").then((function(){return Promise.race([(0,n.sleep)(u),i.then((function(){return Promise.reject(new Error)}))])})).then((function(){return s(t,"apply")})).then((function(){return Promise.race([(0,n.sleep)(u),i.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",c),!o&&a(t).then((function(){return!0}))}))}()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader})))},awaitLeadership:function(){return this._aLP||(this._aLP=(e=this).isLeader?n.PROMISE_RESOLVED_VOID:new Promise((function(t){var r=!1;function o(){r||(r=!0,e.broadcastChannel.removeEventListener("internal",i),t(!0))}e.applyOnce().then((function(){e.isLeader&&o()})),function t(){return(0,n.sleep)(e._options.fallbackInterval).then((function(){if(!e.isDead&&!r)return e.isLeader?void o():e.applyOnce(!0).then((function(){e.isLeader?o():t()}))}))}();var i=function(t){"leader"===t.context&&"death"===t.action&&(e.hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&o()})))};e.broadcastChannel.addEventListener("internal",i),e._lstns.push(i)}))),this._aLP;var e},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,s(this,"death")}}},4632:(e,t,r)=>{"use strict";r(8698),Object.defineProperty(t,"__esModule",{value:!0}),t.chooseMethod=function(e){var t=[].concat(e.methods,a).filter(Boolean);if(e.type){if("simulate"===e.type)return s.SimulateMethod;var r=t.find((function(t){return t.type===e.type}));if(r)return r;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter((function(e){return"idb"!==e.type})));var n=t.find((function(e){return e.canBeUsed()}));if(n)return n;throw new Error("No usable method found in "+JSON.stringify(a.map((function(e){return e.type}))))};var n=r(6115),o=r(9122),i=r(4924),s=r(1574),a=[n.NativeMethod,o.IndexedDBMethod,i.LocalstorageMethod]},9122:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSACTION_SETTINGS=t.IndexedDBMethod=void 0,t.averageResponseTime=E,t.canBeUsed=O,t.cleanOldMessages=g,t.close=S,t.commitIndexedDBTransaction=l,t.create=v,t.createDatabase=d,t.getAllMessages=function(e){var t=e.transaction(a,"readonly",c),r=t.objectStore(a),n=[];return new Promise((function(e){r.openCursor().onsuccess=function(r){var o=r.target.result;o?(n.push(o.value),o.continue()):(l(t),e(n))}}))},t.getIdb=u,t.getMessagesHigherThan=p,t.getOldMessages=y,t.microSeconds=void 0,t.onMessage=_,t.postMessage=w,t.removeMessagesById=h,t.type=void 0,t.writeMessage=f;var n=r(6202),o=r(2151),i=r(423),s=n.microSeconds;t.microSeconds=s;var a="messages",c={durability:"relaxed"};function u(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function l(e){e.commit&&e.commit()}function d(e){var t="pubkey.broadcast-channel-0-"+e,r=u().open(t);return r.onupgradeneeded=function(e){e.target.result.createObjectStore(a,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){r.onerror=function(e){return t(e)},r.onsuccess=function(){e(r.result)}}))}function f(e,t,r){var n={uuid:t,time:(new Date).getTime(),data:r},o=e.transaction([a],"readwrite",c);return new Promise((function(e,t){o.oncomplete=function(){return e()},o.onerror=function(e){return t(e)},o.objectStore(a).add(n),l(o)}))}function p(e,t){var r=e.transaction(a,"readonly",c),n=r.objectStore(a),o=[],i=IDBKeyRange.bound(t+1,1/0);if(n.getAll){var s=n.getAll(i);return new Promise((function(e,t){s.onerror=function(e){return t(e)},s.onsuccess=function(t){e(t.target.result)}}))}return new Promise((function(e,s){var a=function(){try{return i=IDBKeyRange.bound(t+1,1/0),n.openCursor(i)}catch(e){return n.openCursor()}}();a.onerror=function(e){return s(e)},a.onsuccess=function(n){var i=n.target.result;i?i.value.id<t+1?i.continue(t+1):(o.push(i.value),i.continue()):(l(r),e(o))}}))}function h(e,t){if(e.closed)return Promise.resolve([]);var r=e.db.transaction(a,"readwrite",c).objectStore(a);return Promise.all(t.map((function(e){var t=r.delete(e);return new Promise((function(e){t.onsuccess=function(){return e()}}))})))}function y(e,t){var r=(new Date).getTime()-t,n=e.transaction(a,"readonly",c),o=n.objectStore(a),i=[];return new Promise((function(e){o.openCursor().onsuccess=function(t){var o=t.target.result;if(o){var s=o.value;s.time<r?(i.push(s),o.continue()):(l(n),e(i))}else e(i)}}))}function g(e){return y(e.db,e.options.idb.ttl).then((function(t){return h(e,t.map((function(e){return e.id})))}))}function v(e,t){return t=(0,i.fillOptionsWithDefaults)(t),d(e).then((function(r){var i={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:(0,n.randomToken)(),eMIs:new o.ObliviousSet(2*t.idb.ttl),writeBlockPromise:n.PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){i.closed=!0,t.idb.onclose&&t.idb.onclose()},b(i),i}))}function b(e){e.closed||m(e).then((function(){return(0,n.sleep)(e.options.idb.fallbackInterval)})).then((function(){return b(e)}))}function m(e){return e.closed?n.PROMISE_RESOLVED_VOID:e.messagesCallback?p(e.db,e.lastCursorId).then((function(t){var r=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return r.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),n.PROMISE_RESOLVED_VOID})):n.PROMISE_RESOLVED_VOID}function S(e){e.closed=!0,e.db.close()}function w(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return f(e.db,e.uuid,t)})).then((function(){0===(0,n.randomInt)(0,10)&&g(e)})),e.writeBlockPromise}function _(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t,m(e)}function O(){return!!u()}function E(e){return 2*e.idb.fallbackInterval}t.TRANSACTION_SETTINGS=c,t.type="idb";var P={create:v,close:S,onMessage:_,postMessage:w,canBeUsed:O,type:"idb",averageResponseTime:E,microSeconds:s};t.IndexedDBMethod=P},4924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalstorageMethod=void 0,t.addStorageEventListener=d,t.averageResponseTime=v,t.canBeUsed=g,t.close=h,t.create=p,t.getLocalStorage=c,t.microSeconds=void 0,t.onMessage=y,t.postMessage=l,t.removeStorageEventListener=f,t.storageKey=u,t.type=void 0;var n=r(2151),o=r(423),i=r(6202),s=i.microSeconds;t.microSeconds=s;var a="localstorage";function c(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function u(e){return"pubkey.broadcastChannel-"+e}function l(e,t){return new Promise((function(r){(0,i.sleep)().then((function(){var n=u(e.channelName),o={token:(0,i.randomToken)(),time:(new Date).getTime(),data:t,uuid:e.uuid},s=JSON.stringify(o);c().setItem(n,s);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=n,a.newValue=s,window.dispatchEvent(a),r()}))}))}function d(e,t){var r=u(e),n=function(e){e.key===r&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",n),n}function f(e){window.removeEventListener("storage",e)}function p(e,t){if(t=(0,o.fillOptionsWithDefaults)(t),!g())throw new Error("BroadcastChannel: localstorage cannot be used");var r=(0,i.randomToken)(),s=new n.ObliviousSet(t.localstorage.removeTimeout),a={channelName:e,uuid:r,eMIs:s};return a.listener=d(e,(function(e){a.messagesCallback&&e.uuid!==r&&e.token&&!s.has(e.token)&&(e.data.time&&e.data.time<a.messagesCallbackTime||(s.add(e.token),a.messagesCallback(e.data)))})),a}function h(e){f(e.listener)}function y(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t}function g(){var e=c();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}function v(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120}t.type=a;var b={create:p,close:h,onMessage:y,postMessage:l,canBeUsed:g,type:a,averageResponseTime:v,microSeconds:s};t.LocalstorageMethod=b},6115:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeMethod=void 0,t.averageResponseTime=d,t.canBeUsed=l,t.close=a,t.create=s,t.microSeconds=void 0,t.onMessage=u,t.postMessage=c,t.type=void 0;var n=r(6202),o=n.microSeconds;t.microSeconds=o;var i="native";function s(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t}function a(e){e.bc.close(),e.subFns=[]}function c(e,t){try{return e.bc.postMessage(t,!1),n.PROMISE_RESOLVED_VOID}catch(e){return Promise.reject(e)}}function u(e,t){e.messagesCallback=t}function l(){if("undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1}function d(){return 150}t.type=i;var f={create:s,close:a,onMessage:u,postMessage:c,canBeUsed:l,type:i,averageResponseTime:d,microSeconds:o};t.NativeMethod=f},1574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulateMethod=void 0,t.averageResponseTime=d,t.canBeUsed=l,t.close=a,t.create=s,t.microSeconds=void 0,t.onMessage=u,t.postMessage=c,t.type=void 0;var n=r(6202).microSeconds;t.microSeconds=n;var o="simulate";t.type=o;var i=new Set;function s(e){var t={name:e,messagesCallback:null};return i.add(t),t}function a(e){i.delete(e)}function c(e,t){return new Promise((function(r){return setTimeout((function(){Array.from(i).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),r()}),5)}))}function u(e,t){e.messagesCallback=t}function l(){return!0}function d(){return 5}var f={create:s,close:a,onMessage:u,postMessage:c,canBeUsed:l,type:o,averageResponseTime:d,microSeconds:n};t.SimulateMethod=f},423:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillOptionsWithDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}},6202:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROMISE_RESOLVED_VOID=t.PROMISE_RESOLVED_TRUE=t.PROMISE_RESOLVED_FALSE=void 0,t.isPromise=function(e){return e&&"function"==typeof e.then},t.microSeconds=function(){var e=(new Date).getTime();return e===i?1e3*e+ ++s:(i=e,s=0,1e3*e)},t.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.randomToken=function(){return Math.random().toString(36).substring(2)},t.sleep=function(e,t){return e||(e=0),new Promise((function(r){return setTimeout((function(){return r(t)}),e)}))};var r=Promise.resolve(!1);t.PROMISE_RESOLVED_FALSE=r;var n=Promise.resolve(!0);t.PROMISE_RESOLVED_TRUE=n;var o=Promise.resolve();t.PROMISE_RESOLVED_VOID=o;var i=0,s=0},1924:(e,t,r)=>{"use strict";var n=r(210),o=r(5559),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},5559:(e,t,r)=>{"use strict";var n=r(8612),o=r(210),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||n.call(s,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(n,s,arguments);if(c&&u){var r=c(t,"length");r.configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var d=function(){return a(n,i,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},5415:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(8081),o=r.n(n),i=r(3645),s=r.n(i)()(o());s.push([e.id,'*{box-sizing:border-box}.bf-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:var(--bf-z-index, 9999);background:var(--bf-backdrop-bg, rgba(0, 0, 0, 0.5))}.bf-modal{position:fixed;left:50%;top:50%;z-index:calc(var(--bf-z-index, 9999) + 1);width:500px;max-width:calc(100% - 32px);height:400px;max-height:calc(100% - 64px);transform:translate(-50%, -50%);box-shadow:var(--bf-modal-shadow, 0px 4px 12px 0px rgba(0, 0, 0, 0.25));border-radius:var(--bf-border-radius, 4px);background:#fff}.bf-modal *{font-family:var(--bf-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol");outline:none;font-weight:normal;color:var(--bf-color, #222)}.bf-modal__title{margin:0 0 16px;width:calc(100% - 24px);font-weight:bold;line-height:1.3;font-family:var(--bf-font-heading, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol");font-size:18px}.bf-modal__hint{margin:-8px 0 20px;line-height:1.25}.bf-modal__hint--hidden{display:none}.bf-modal__content{position:absolute;top:0;bottom:0;left:0;right:0;overflow-y:auto;display:flex;flex-direction:column;padding:24px}.bf-modal__close{position:absolute;z-index:1;top:0px;right:0px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:0;background:none;padding:0;font-size:20px;cursor:pointer}.bf-modal__close:active{transform:scale(0.85)}.bf-modal__subject,.bf-modal__feedback{margin-bottom:16px;font-size:16px;padding:8px;border:var(--bf-input-border, 1px solid #ccc);border-radius:var(--bf-border-radius, 4px)}.bf-modal__subject::placeholder,.bf-modal__feedback::placeholder{color:var(--bf-placeholder-color, #757575)}.bf-modal__subject{min-height:32px}.bf-modal__feedback{flex-grow:1;resize:none;min-height:64px}.bf-modal__submit{width:100%;background-color:var(--bf-submit-bg, #ff5060);box-shadow:var(--bf-submit-shadow, 0 2px 0 0 #a93e48);border:0;border-radius:var(--bf-border-radius, 4px);padding:8px 0;color:var(--bf-submit-color, #fff);font-size:18px;cursor:pointer}.bf-modal__submit:active{transform:translateY(2px);box-shadow:none}',""]);const a=s},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);n&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},9180:function(e,t,r){var n,o,i;!function(s,a){"use strict";o=[r(9829)],void 0===(i="function"==typeof(n=function(e){var t=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(r)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),n=r.match(/ (\(.+\)$)/);r=n?r.replace(n[0],""):r;var o=this.extractLocation(n?n[1]:r),i=n&&r||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:i,fileName:s,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(n)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=t.match(r),o=n&&n[1]?n[1]:void 0,i=this.extractLocation(t.replace(r,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),o=[],i=2,s=n.length;i<s;i+=2){var a=r.exec(n[i]);a&&o.push(new e({fileName:a[2],lineNumber:a[1],source:n[i]}))}return o},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),o=[],i=0,s=n.length;i<s;i+=2){var a=r.exec(n[i]);a&&o.push(new e({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:n[i]}))}return o},parseOpera11:function(r){return r.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var r,n=t.split("@"),o=this.extractLocation(n.pop()),i=n.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(r=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e({functionName:s,args:a,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)}}})?n.apply(t,o):n)||(e.exports=i)}()},9804:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,o){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)n.call(o,e[s],s,e);else for(var a in e)t.call(e,a)&&n.call(o,e[a],a,e)}},7648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||n.call(i)!==o)throw new TypeError(t+i);for(var s,a=r.call(arguments,1),c=function(){if(this instanceof s){var t=i.apply(this,a.concat(r.call(arguments)));return Object(t)===t?t:this}return i.apply(e,a.concat(r.call(arguments)))},u=Math.max(0,i.length-a.length),l=[],d=0;d<u;d++)l.push("$"+d);if(s=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),i.prototype){var f=function(){};f.prototype=i.prototype,s.prototype=new f,f.prototype=null}return s}},8612:(e,t,r)=>{"use strict";var n=r(7648);e.exports=Function.prototype.bind||n},210:(e,t,r)=>{"use strict";var n,o=SyntaxError,i=Function,s=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new s},l=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,d=r(1405)(),f=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"==typeof Uint8Array?n:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":d?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?f(f([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?f(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},g=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=f(o.prototype))}return y[t]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(8612),m=r(7642),S=b.call(Function.call,Array.prototype.concat),w=b.call(Function.apply,Array.prototype.splice),_=b.call(Function.call,String.prototype.replace),O=b.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,A=function(e){var t=O(e,0,1),r=O(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return _(e,E,(function(e,t,r,o){n[n.length]=r?_(o,P,"$1"):t||e})),n},I=function(e,t){var r,n=e;if(m(v,n)&&(n="%"+(r=v[n])[0]+"%"),m(y,n)){var i=y[n];if(i===p&&(i=g(n)),void 0===i&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var r=A(e),n=r.length>0?r[0]:"",i=I("%"+n+"%",t),a=i.name,u=i.value,l=!1,d=i.alias;d&&(n=d[0],w(r,S([0,1],d)));for(var f=1,p=!0;f<r.length;f+=1){var h=r[f],g=O(h,0,1),v=O(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&p||(l=!0),m(y,a="%"+(n+="."+h)+"%"))u=y[a];else if(null!=u){if(!(h in u)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&f+1>=r.length){var b=c(u,h);u=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:u[h]}else p=m(u,h),u=u[h];p&&!l&&(y[a]=u)}}return u}},1405:(e,t,r)=>{"use strict";var n=r.g.Symbol,o=r(5419);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},9608:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},6410:(e,t,r)=>{"use strict";var n=r(9608);e.exports=function(){return n()&&!!Symbol.toStringTag}},7642:(e,t,r)=>{"use strict";var n=r(8612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},3584:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n='<div class="bf-backdrop" data-bf-backdrop></div> <div class="bf-modal"> <button class="bf-modal__close" data-bf-close>&times;</button> <form class="bf-modal__content" data-bf-form> <h3 class="bf-modal__title" data-bf-title></h3> <p class="bf-modal__hint bf-modal__hint--hidden" data-bf-hint></p> <input class="bf-modal__subject" data-bf-subject type="text" required> <textarea class="bf-modal__feedback" data-bf-feedback required></textarea> <button class="bf-modal__submit" data-bf-submit></button> </form> </div> '},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2584:(e,t,r)=>{"use strict";var n=r(6410)(),o=r(1924)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},s=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,e.exports=a?i:s},8662:(e,t,r)=>{"use strict";var n,o=Object.prototype.toString,i=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=r(6410)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(s.test(i.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===o.call(e);if(!c)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&c(t)}return c(e)===n}},5692:(e,t,r)=>{"use strict";var n=r(9804),o=r(3083),i=r(1924),s=i("Object.prototype.toString"),a=r(6410)(),c="undefined"==typeof globalThis?r.g:globalThis,u=o(),l=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},d=i("String.prototype.slice"),f={},p=r(882),h=Object.getPrototypeOf;a&&p&&h&&n(u,(function(e){var t=new c[e];if(Symbol.toStringTag in t){var r=h(t),n=p(r,Symbol.toStringTag);if(!n){var o=h(r);n=p(o,Symbol.toStringTag)}f[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a||!(Symbol.toStringTag in e)){var t=d(s(e),8,-1);return l(u,t)>-1}return!!p&&function(e){var t=!1;return n(f,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},2023:(module,exports,__webpack_require__)=>{var process=__webpack_require__(4155),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,o=typeof e;if("string"===o){var i,s=[],a=e.length,c=0;for(n=0;n<a;++n)(i=e.charCodeAt(n))<128?s[c++]=i:i<2048?(s[c++]=192|i>>6,s[c++]=128|63&i):i<55296||i>=57344?(s[c++]=224|i>>12,s[c++]=128|i>>6&63,s[c++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++n)),s[c++]=240|i>>18,s[c++]=128|i>>12&63,s[c++]=128|i>>6&63,s[c++]=128|63&i);e=s}else{if("object"!==o)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var u=[],l=[];for(n=0;n<64;++n){var d=e[n]||0;u[n]=92^d,l[n]=54^d}Sha256.call(this,t,r),this.update(l),this.oKeyPad=u,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,o,i=0,s=e.length,a=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(o=this.start;i<s&&o<64;++i)a[o>>2]|=e[i]<<SHIFT[3&o++];else for(o=this.start;i<s&&o<64;++i)(n=e.charCodeAt(i))<128?a[o>>2]|=n<<SHIFT[3&o++]:n<2048?(a[o>>2]|=(192|n>>6)<<SHIFT[3&o++],a[o>>2]|=(128|63&n)<<SHIFT[3&o++]):n<55296||n>=57344?(a[o>>2]|=(224|n>>12)<<SHIFT[3&o++],a[o>>2]|=(128|n>>6&63)<<SHIFT[3&o++],a[o>>2]|=(128|63&n)<<SHIFT[3&o++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),a[o>>2]|=(240|n>>18)<<SHIFT[3&o++],a[o>>2]|=(128|n>>12&63)<<SHIFT[3&o++],a[o>>2]|=(128|n>>6&63)<<SHIFT[3&o++],a[o>>2]|=(128|63&n)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=a[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,o,i,s,a,c,u=this.h0,l=this.h1,d=this.h2,f=this.h3,p=this.h4,h=this.h5,y=this.h6,g=this.h7,v=this.blocks;for(e=16;e<64;++e)t=((o=v[e-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,r=((o=v[e-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10,v[e]=v[e-16]+t+v[e-7]+r<<0;for(c=l&d,e=0;e<64;e+=4)this.first?(this.is224?(i=300032,g=(o=v[0]-1413257819)-150054599<<0,f=o+24177077<<0):(i=704751109,g=(o=v[0]-210244248)-1521486534<<0,f=o+143694565<<0),this.first=!1):(t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=(i=u&l)^u&d^c,g=f+(o=g+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&h^~p&y)+K[e]+v[e])<<0,f=o+(t+n)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(s=f&u)^f&l^i,y=d+(o=y+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&p^~g&h)+K[e+1]+v[e+1])<<0,t=((d=o+(t+n)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(a=d&f)^d&u^s,h=l+(o=h+(r=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&g^~y&p)+K[e+2]+v[e+2])<<0,t=((l=o+(t+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(c=l&d)^l&f^a,p=u+(o=p+(r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&y^~h&g)+K[e+3]+v[e+3])<<0,u=o+(t+n)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+l<<0,this.h2=this.h2+d<<0,this.h3=this.h3+f<<0,this.h4=this.h4+p<<0,this.h5=this.h5+h<<0,this.h6=this.h6+y<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,o=this.h4,i=this.h5,s=this.h6,a=this.h7,c=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(c+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,o=this.h4,i=this.h5,s=this.h6,a=this.h7,c=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||c.push(a>>24&255,a>>16&255,a>>8&255,255&a),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},2151:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ObliviousSet:()=>n,now:()=>i,removeTooOldValues:()=>o});var n=function(){function e(e){this.ttl=e,this.map=new Map,this._to=!1}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.add=function(e){var t=this;this.map.set(e,i()),this._to||(this._to=!0,setTimeout((function(){t._to=!1,o(t)}),0))},e.prototype.clear=function(){this.map.clear()},e}();function o(e){for(var t=i()-e.ttl,r=e.map[Symbol.iterator]();;){var n=r.next().value;if(!n)return;var o=n[0];if(!(n[1]<t))return;e.map.delete(o)}}function i(){return(new Date).getTime()}},4155:e=>{var t,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var a,c=[],u=!1,l=-1;function d(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&f())}function f(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},4595:function(e,t,r){var n,o,i;!function(s,a){"use strict";o=[r(9829)],n=function(e){return{backtrace:function(t){var r=[],n=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(n=t.maxStackSize);for(var o=arguments.callee;o&&r.length<n&&o.arguments;){for(var i=new Array(o.arguments.length),s=0;s<i.length;++s)i[s]=o.arguments[s];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?r.push(new e({functionName:RegExp.$1||void 0,args:i})):r.push(new e({args:i}));try{o=o.caller}catch(e){break}}return r}}},void 0===(i=n.apply(t,o))||(e.exports=i)}()},9829:function(e,t){var r,n,o;!function(i,s){"use strict";n=[],void 0===(o="function"==typeof(r=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],n=["columnNumber","lineNumber"],o=["fileName","functionName","source"],i=r.concat(n,o,["args"],["evalOrigin"]);function s(t){if(t)for(var r=0;r<i.length;r++)void 0!==t[i[r]]&&this["set"+e(i[r])](t[i[r]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",n=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:n?n+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}},s.fromString=function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),n=e.substring(0,t),o=e.substring(t+1,r).split(","),i=e.substring(r+1);if(0===i.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),c=a[1],u=a[2],l=a[3];return new s({functionName:n,args:o||void 0,fileName:c,lineNumber:u||void 0,columnNumber:l||void 0})};for(var a=0;a<r.length;a++)s.prototype["get"+e(r[a])]=t(r[a]),s.prototype["set"+e(r[a])]=function(e){return function(t){this[e]=Boolean(t)}}(r[a]);for(var c=0;c<n.length;c++)s.prototype["get"+e(n[c])]=t(n[c]),s.prototype["set"+e(n[c])]=function(e){return function(t){if(r=t,isNaN(parseFloat(r))||!isFinite(r))throw new TypeError(e+" must be a Number");var r;this[e]=Number(t)}}(n[c]);for(var u=0;u<o.length;u++)s.prototype["get"+e(o[u])]=t(o[u]),s.prototype["set"+e(o[u])]=function(e){return function(t){this[e]=String(t)}}(o[u]);return s})?r.apply(t,n):r)||(e.exports=o)}()},1562:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiClient=void 0,t.ApiClient=class{constructor(e,t){this.appKey=e,this.http=t}getDeviceStatus(e){const t={app_token:this.appKey,device:e};return this.http.post("/app/device-status",t).then((e=>{const t=void 0!==e.error,r=!t||t&&-1004!==e.error.code;return{isDeviceEnabled:void 0!==e.logger_enabled&&e.logger_enabled,isAppValid:r}}))}sendSession(e){return this.http.post("/session",e)}sendLogs(e,t){return this.http.post("/log/batch",{session_id:e,logs:t})}sendIssue(e,t,r,n,o,i){const s={uid:e,title:r,text:n,app:{key:this.appKey},type:o,session_id:i};return this.http.post("/issue",s).then((()=>({uuid:e,issueURL:t})))}setDeviceKey(e,t,r){return this.http.post("/device/keyvalue",{app_key:this.appKey,device_id:e,key:t,value:r})}}},4319:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventPrinter=void 0;const n=r(8593);t.EventPrinter=class{constructor(e,t){this.console=e,this.printToConsole=t,this.styles={bold:"font-weight:bold",icon:"color:#ff5060",italic:"font-style:italic",neutral:"color:#999",regular:"color:#222"}}print(e,t,r,o){if(!this.printToConsole)return;const i=`%c${e}%c ${t}`;o=[this.styles.icon,this.styles.regular,...null!=o?o:[]],r?this.console.info(i,...o,(0,n.getElByXPath)(r)):this.console.info(i,...o)}printDeviceKey(e,t){null===t?this.print("◆",`Device key %c"${e}"%c removed`,void 0,[this.styles.italic,this.styles.bold]):this.print("◆",`Device key %c"${e}" %cset%c to %c"${t}"`,void 0,[this.styles.italic,this.styles.bold,this.styles.regular,this.styles.italic])}printJsEvent(e){const t=JSON.parse(e.text);switch(t.event){case"DOMContentLoaded":this.print("●","DOM content %cloaded",void 0,[this.styles.bold]);break;case"PageLoaded":this.print("●","Page %cloaded",void 0,[this.styles.bold]);break;case"hashchange":this.print("#",`URL %chash changed%c to %c"${t.hash}"`,void 0,[this.styles.bold,this.styles.regular,this.styles.italic]);break;case"blur":case"click":case"focus":case"keyup":{const e="click"===t.event?"⊙":"▭",r=t.text&&"keyup"===t.event?` value=${this.truncate(t.text)}`:"",n={blur:"blurred",click:"clicked",focus:"focused",keyup:"keyup"};this.print(e,`Element %c${n[t.event]}%c${r}%c:`,t.xpath,[this.styles.bold,this.styles.neutral,this.styles.regular]);break}case"submit":this.print("↑","Form %csubmited",t.xpath,[this.styles.bold]);break;case"popstate":case"pushstate":this.print("↦","Navigation %cstate changed",void 0,[this.styles.bold]);break;default:throw new n.UnreachableCaseError(t)}}truncate(e){return e.length>15?`${e.substring(0,15)}… [${e.length}]`:e}}},2329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverrideConsoleMethods=void 0;const n=r(7431);t.OverrideConsoleMethods=class{constructor(e,t){this.commands=e,this.window=t}init(e){const t=this,r={log:n.LogLevel.Debug,trace:n.LogLevel.Trace,info:n.LogLevel.Info,warn:n.LogLevel.Warning,error:n.LogLevel.Error};this.window.console=function(n){return Object.assign(Object.assign({},n),Object.fromEntries(Object.keys(r).map((o=>[o,function(...i){t.commands.addLogMessage(r[o],i),e||n[o](...i)}]))))}(this.window.console)}}},277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterBrowserEventsHandler=void 0;const n=r(7725);class o extends n.RegisterEventsHandlerBase{constructor(e,t){super(e,t),this.commands=e,this.window=t}init(){if(!this.window.document.addEventListener)return;const e=!this.supportsPassiveEvents()||{passive:!0,capture:!0};this.window.addEventListener("load",(()=>{this.addJsEventLogEntry({event:"PageLoaded",performance:this.window.performance})}),e),this.window.addEventListener("DOMContentLoaded",(()=>{this.addJsEventLogEntry({event:"DOMContentLoaded"})}),e),this.window.addEventListener("popstate",(e=>{this.addJsEventLogEntry({event:"popstate",location:this.window.location.href,state:JSON.stringify(e.state)})}),e),this.window.addEventListener("hashchange",(()=>{this.addJsEventLogEntry({event:"hashchange",hash:this.window.location.hash})}),e);const t=e=>{const t=this;return function(...r){const n=r.length>2?r[2]:void 0;return n&&t.addJsEventLogEntry({event:"pushstate",to:String(n),state:r.length>1?JSON.stringify(r[1]):null}),e.apply(this,r)}};this.override(this.window.history,"pushState",t),this.override(this.window.history,"replaceState",t)}override(e,t,r){if(!(t in e))return;const n=r(e[t]);e[t]=n}}t.RegisterBrowserEventsHandler=o},7725:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterEventsHandlerBase=void 0,t.RegisterEventsHandlerBase=class{constructor(e,t){this.commands=e,this.window=t}addJsEventLogEntry(e){const t={tag:"js_event",text:JSON.stringify(e),url:this.getURL()};this.commands.addLogEntry(t)}getURL(){return this.window?this.window.location.href:""}supportsPassiveEvents(){let e=!1;try{const t=()=>{},r={get passive(){return e=!0,!1}};this.window.addEventListener("offline",t,r),this.window.removeEventListener("offline",t,!1)}catch(t){e=!1}return e}}},5881:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterUIEventsHandler=void 0;const n=r(8593),o=r(7725);class i extends o.RegisterEventsHandlerBase{constructor(e,t){super(e,t),this.commands=e,this.window=t}init(){if(!this.window.document.addEventListener)return;const e=!this.supportsPassiveEvents()||{passive:!0,capture:!0};document.addEventListener("click",(e=>{e.target instanceof Element&&this.addJsEventLogEntry(this.getEventData(e.target,"click"))}),e),document.addEventListener("focusin",(e=>{e.target instanceof Element&&this.addJsEventLogEntry(this.getEventData(e.target,"focus"))}),e),document.addEventListener("focusout",(e=>{e.target instanceof Element&&this.addJsEventLogEntry(this.getEventData(e.target,"blur"))}),e),this.window.addEventListener("submit",(e=>{e.target instanceof Element&&this.addJsEventLogEntry(this.getEventData(e.target,"submit"))}),e);const t=new n.DebounceByElement(400),r=["Tab","Meta","MetaLeft","MetaRight","Alt","AltLeft","AltRight","Control","ControlLeft","ControlRight","Shift","ShiftLeft","ShiftRight","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","PageDown","PageUp","Home","End","CapsLock"];this.window.addEventListener("keyup",(e=>{if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)||!e.composedPath||r.includes(e.code))return;const n=e.target,o=e.composedPath();t.run(n,(()=>{this.sendKeyupLog(n,o)}))}),e)}sendKeyupLog(e,t){var r;const n="password"===(null!==(r=e.getAttribute("type"))&&void 0!==r?r:"").toLowerCase(),o=t.filter((e=>e instanceof HTMLElement)).some((e=>"bfIgnoreKeypress"in e.dataset)),i=n||o;this.addJsEventLogEntry(Object.assign(Object.assign({},this.getEventData(e,"keyup")),{text:i?void 0:e.value}))}getEventData(e,t){const r=e.childElementCount<=1?e.textContent:void 0,o="FORM"===e.tagName?e:null;return{event:t,url:this.window?this.window.location.href:"",xpath:(0,n.getXPath)(e),tag:e.tagName,id:e.id,text:null!=r?r:void 0,action:o&&o.action?o.action:""}}}t.RegisterUIEventsHandler=i},7722:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=void 0;const s=i(r(1206));t.Browser=class{constructor(e){this.window=e,this.browser=s.getParser(this.window.navigator.userAgent)}getDeviceName(){return`${this.browser.getBrowserName()} ${this.browser.getBrowserVersion()} on ${this.browser.getOSName()} ${this.browser.getOSVersion()}`}getLanguage(){var e;return null!==(e=this.window.navigator.language)&&void 0!==e?e:this.window.navigator.userLanguage}getName(){return this.browser.getBrowserName()}getOSVersion(){return this.browser.getOSVersion()}}},2853:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Bugfender=void 0;const o=r(7431),i=r(2607),s=r(7935),a=r(8593);class c{constructor(e,t,r){this.preInitProvider=e,this.sdkUserAgent=t,this.version=r,this.LogLevel=o.LogLevel,this.initDeferred=(0,a.createDeferred)(),this.commands=this.preInitProvider.provideCommandsQueue()}init(e){return n(this,void 0,void 0,(function*(){const t=this.preInitProvider.provideOperationModes(),r=this.preInitProvider.provideSDKOptionsValidator();if(this.options=r.init(e),this.provider=new s.MainProvider(this.options,this.preInitProvider,this.sdkUserAgent,this.version),this.processor=yield this.provider.getStorageProcessor(),this.options.debug){const e=this.preInitProvider.provideAPIFeatureDetection();this.provider.getLogger(c.name).log("DEBUG",{debug:this.options.debug,operation:{mode:yield t.getMode(),isMultiTab:yield t.isMultiTab(),isMultiThread:yield t.isMultiThread()},features:{broadcastChannel:yield e.isBroadcastChannelSupported(),indexedDB:yield e.isIndexedDBSupported(),localStorage:e.isLocalStorageSupported(),sessionStorage:e.isSessionStorageSupported(),worker:e.isWorkerSupported()}})}const o=yield this.provider.getResetStorage();yield o.resetIfAppChanged(this.options.appID);const i=yield this.provider.getStorageWriterHub();i.init(this.options),this.options.logBrowserEvents&&this.provider.getRegisterBrowserEventsHandler().init(),this.options.logUIEvents&&this.provider.getRegisterUIEventsHandler().init(),this.options.registerErrorHandler&&this.provider.getRegisterErrorHandler().init(this),this.options.overrideConsoleMethods&&this.provider.getOverrideConsoleMethods().init(this.options.printToConsole),this.provider.getPrintToConsole().init(this.options.printToConsole),window.addEventListener("beforeunload",(()=>n(this,void 0,void 0,(function*(){this.processor.run()})))),this.commands.init(i);const a=this.preInitProvider.provideBrowser();this.setDeviceKey("$browser",a.getName()),this.initDeferred.resolve()}))}forceSendOnce(){this.commands.forceSendOnce()}getDeviceURL(){return n(this,void 0,void 0,(function*(){yield this.initDeferred.promise;const e=yield this.provider.getDevice();return`${this.options.baseURL}/intent/${this.options.appID}/device/${e.getUDID()}`}))}getSessionURL(){return n(this,void 0,void 0,(function*(){yield this.initDeferred.promise;const e=yield this.provider.getCurrentSession();return`${this.options.baseURL}/intent/${this.options.appID}/session/${e.getUUID()}`}))}getUserFeedback(e){return n(this,void 0,void 0,(function*(){return this.preInitProvider.provideUserFeedback().show(e)}))}log(...e){this.commands.addLogMessage(o.LogLevel.Debug,[...e])}warn(...e){this.commands.addLogMessage(o.LogLevel.Warning,[...e])}error(...e){this.commands.addLogMessage(o.LogLevel.Error,[...e])}trace(...e){this.commands.addLogMessage(o.LogLevel.Trace,[...e])}info(...e){this.commands.addLogMessage(o.LogLevel.Info,[...e])}fatal(...e){this.commands.addLogMessage(o.LogLevel.Fatal,[...e])}removeDeviceKey(e){this.commands.setDeviceKey(e,null)}sendLog(e){this.commands.addLogEntry(e)}sendIssue(e,t){return n(this,void 0,void 0,(function*(){return this.commands.addIssue(i.IssueType.Issue,e,t)}))}sendCrash(e,t){return n(this,void 0,void 0,(function*(){return this.commands.addIssue(i.IssueType.Crash,e,t)}))}sendUserFeedback(e,t){return n(this,void 0,void 0,(function*(){return this.commands.addIssue(i.IssueType.Feedback,e,t)}))}setDeviceKey(e,t){this.commands.setDeviceKey(e,t)}setForceEnabled(e){this.initDeferred.promise.then((()=>{this.provider.getStorageGuard().setDeviceForceEnabled(e)}))}}t.Bugfender=c},1667:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CallInfoFactory=void 0;const s=i(r(9180)),a=i(r(4595));t.CallInfoFactory=class{create(){try{throw new Error}catch(e){return this.getCallInfo(e)}}getCallInfo(e){try{const t=this.getStackTraceSync(e),r=t[t.length-1];return{file:"/"+r.fileName.substring(r.fileName.lastIndexOf("/")+1),line:r.lineNumber,method:r.functionName}}catch(e){return{file:void 0,line:void 0,method:void 0}}}getStackTraceSync(e){return e.stack||e["opera#sourceloc"]?s.parse(e):a.backtrace()}}},6110:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MonoChannel=t.Channel=t.createBroadcastChannel=t.MessageType=void 0;const o=r(8437);var i;!function(e){e.ForceSend="force-send",e.Ping="ping",e.Pong="pong"}(i=t.MessageType||(t.MessageType={})),t.createBroadcastChannel=function(){return new o.BroadcastChannel("bf-sdk")},t.Channel=class{constructor(e,t){this.channel=e,this.logger=t,this.leader=!1,this.onForceSendCb=()=>{},this.sessionsStatus={},this.channel.onmessage=e=>this.handleMessage(e),this.elector=(0,o.createLeaderElection)(this.channel,{fallbackInterval:2e3,responseTime:1e3}),this.leaderPromise=this.elector.awaitLeadership(),this.leaderPromise.then((()=>{this.logger.log("Now I'm the leader. 💪"),this.leader=!0}))}setCurrentSession(e){this.session=e}handleMessage(e){var t,r;switch(e.type){case i.ForceSend:this.leader&&this.onForceSendCb();break;case i.Ping:e.toSessionUUID===(null===(t=this.session)||void 0===t?void 0:t.getUUID())&&this.channel.postMessage({type:i.Pong,fromSessionUUID:e.toSessionUUID,toSessionUUID:e.fromSessionUUID});break;case i.Pong:e.toSessionUUID===(null===(r=this.session)||void 0===r?void 0:r.getUUID())&&(this.sessionsStatus[e.fromSessionUUID]=!0)}}isLeader(){return this.leader}notifyForceSend(){this.leader?this.onForceSendCb():this.channel.postMessage({type:i.ForceSend})}onForceSend(e){this.onForceSendCb=e}onHasBecomeLeader(){return this.leaderPromise}isSessionActive(e){return n(this,void 0,void 0,(function*(){const t=!!this.session;return!(t&&(!t||this.session.getUUID()!==e))||new Promise((t=>{this.sessionsStatus[e]=!1,this.channel.postMessage({type:i.Ping,fromSessionUUID:this.session.getUUID(),toSessionUUID:e}),setTimeout((()=>t(this.sessionsStatus[e])),250)}))}))}},t.MonoChannel=class{constructor(){this.onForceSendCb=()=>{},this.leaderPromise=Promise.resolve()}setCurrentSession(e){this.session=e}isLeader(){return!0}isSessionActive(e){return n(this,void 0,void 0,(function*(){const t=!!this.session;return!this.session||t&&this.session.getUUID()===e}))}notifyForceSend(){this.onForceSendCb()}onForceSend(e){this.onForceSendCb=e}onHasBecomeLeader(){return this.leaderPromise}}},7442:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandsQueue=void 0;const n=r(5049),o=r(8593);t.CommandsQueue=class{constructor(e,t,r){this.callInfoFactory=e,this.timer=t,this.uuidFactory=r,this.queue=[],this.storageDeferred=(0,o.createDeferred)()}init(e){this.storageDeferred.resolve(e),this.queue.forEach((e=>{this.handleCommand(e)}))}handleCommand(e){if(this.storageDeferred.isResolved)switch(e.type){case n.CommandType.AddIssue:this.storageDeferred.value.addIssue(e);break;case n.CommandType.AddLogEntry:this.storageDeferred.value.addLogEntry(e);break;case n.CommandType.AddLogMessage:this.storageDeferred.value.addLogMessage(e);break;case n.CommandType.ForceSendOnce:this.storageDeferred.value.forceSendOnce();break;case n.CommandType.SetDeviceKey:this.storageDeferred.value.addDeviceKey(e);break;default:throw new o.UnreachableCaseError(e)}}add(e){this.storageDeferred.isFulfilled?this.handleCommand(e):this.queue.push(e)}addIssue(e,t,r){const i=(0,o.createDeferred)();return this.add({type:n.CommandType.AddIssue,issueType:e,title:t,text:r,uuid:this.uuidFactory.create(),callInfo:this.callInfoFactory.create(),url:i,time:this.timer.getTime()}),i.promise}addLogEntry(e){this.add({type:n.CommandType.AddLogEntry,log:e,callInfo:this.callInfoFactory.create(),time:this.timer.getTime()})}addLogMessage(e,t){this.add({type:n.CommandType.AddLogMessage,level:e,parameters:t,callInfo:this.callInfoFactory.create(),time:this.timer.getTime()})}forceSendOnce(){this.add({type:n.CommandType.ForceSendOnce})}setDeviceKey(e,t){this.add({type:n.CommandType.SetDeviceKey,key:e,value:t,callInfo:this.callInfoFactory.create(),time:this.timer.getTime()})}}},5049:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CommandType=void 0,(r=t.CommandType||(t.CommandType={})).AddIssue="add-issue",r.AddLogEntry="add-log-entry",r.AddLogMessage="add-log-message",r.ForceSendOnce="force-send-once",r.SetDeviceKey="set-device-key"},6871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0,t.Connection=class{constructor(e){this.window=e}isOnline(){return this.window.navigator.onLine}}},3256:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentSession=void 0;const n=r(8177);t.CurrentSession=class{constructor(e,t,r,n,o){this.device=e,this.logger=t,this.sessionStorage=r,this.sessionsTable=n,this.uuidFactory=o,this.reset()}getUUID(){return this.uuid}initSession(){const e=this.device.getUDID();this.logger.log("Init session"),this.uuid=this.uuidFactory.create(),this.sessionStorage.setItem(n.SessionStorageKey.SessionUUID,this.uuid),this.sessionStorage.setItem(n.SessionStorageKey.SessionUDID,e)}reset(){const e=this.sessionStorage.getItem(n.SessionStorageKey.SessionUUID);null===e?(this.logger.log("Session not available"),this.initSession()):(this.uuid=e,this.sessionStorage.getItem(n.SessionStorageKey.SessionUDID)!==this.device.getUDID()?(this.logger.log("Session Device UDID changed"),this.initSession()):this.logger.log(`Session UUID: ${this.uuid}`)),this.sessionsTable.addIfMissing({uuid:this.uuid,udid:this.device.getUDID()})}}},6422:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Database=void 0;const i=r(2998),s=r(8593);var a;!function(e){e[e.New=0]="New",e[e.V1=10]="V1",e[e.V2=20]="V2"}(a||(a={})),t.Database=class{constructor(e){this.db=(0,s.createDeferred)(),this.name=null!=e?e:"bf_sdk",this.init()}init(){return n(this,void 0,void 0,(function*(){const e=yield(0,i.openDB)(this.name,a.V2,{upgrade(e,t,r,i){var s,c,u,l;return n(this,void 0,void 0,(function*(){if(t===a.New&&(e.createObjectStore("devicekeys",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("issues",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("logs",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("sessions",{keyPath:"uuid"})),t===a.V1){const e=i.objectStore("issues");try{for(var r,n=!0,d=o(e);r=yield d.next(),!(s=r.done);){l=r.value,n=!1;try{const e=l,t=Object.assign({},e.value);t.data.text=t.data.markdown,delete t.data.markdown,e.update(t)}finally{n=!0}}}catch(e){c={error:e}}finally{try{n||s||!(u=d.return)||(yield u.call(d))}finally{if(c)throw c.error}}}}))}});this.db.resolve(e)}))}get(){return this.db.promise}}},1177:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryDeviceKeysTable=t.IDBDeviceKeysTable=void 0,t.IDBDeviceKeysTable=class{constructor(e){this.table=e}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteBatch(e){return this.table.deleteBatch(0,e)}getAll(){return this.table.getAll()}},t.InMemoryDeviceKeysTable=class{constructor(){this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return r(this,void 0,void 0,(function*(){const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return r(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteBatch(e){return r(this,void 0,void 0,(function*(){this.data.splice(0,e)}))}getAll(){return r(this,void 0,void 0,(function*(){return[...this.data]}))}}},8808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryStorage=void 0,t.InMemoryStorage=class{constructor(){this.inMemoryStorage={}}clear(){this.inMemoryStorage={}}getItem(e){return Object.prototype.hasOwnProperty.call(this.inMemoryStorage,e)?this.inMemoryStorage[e]:null}key(e){var t;return null!==(t=Object.keys(this.inMemoryStorage)[e])&&void 0!==t?t:null}removeItem(e){delete this.inMemoryStorage[e]}setItem(e,t){this.inMemoryStorage[e]=String(t)}get length(){return Object.keys(this.inMemoryStorage).length}}},7941:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryIssuesTable=t.IDBIssuesTable=void 0,t.IDBIssuesTable=class{constructor(e){this.table=e}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteById(e){return this.table.deleteByIdx(e)}getBatch(e,t){return this.table.getBatch(e,t)}},t.InMemoryIssuesTable=class{constructor(){this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return r(this,void 0,void 0,(function*(){const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return r(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteById(e){return r(this,void 0,void 0,(function*(){const t=this.data.findIndex((t=>t.id===e));-1!==t&&this.data.splice(t,1)}))}getBatch(e,t){return r(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).slice(0,t)}))}}},3856:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryLogsTable=t.IDBLogsTable=void 0,t.IDBLogsTable=class{constructor(e,t){this.table=e,this.logFactory=t}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteBatch(e,t){return this.table.deleteBatch(0,t,["sessionUUID",e])}deleteOldLogs(e,t=10){return r(this,void 0,void 0,(function*(){const r=yield this.table.getBatch(e,t);if(r.length<=1)return;const n={sessionUUID:e,data:this.logFactory.createGapLog(r.map((e=>e.data)))};yield Promise.all([this.table.patchByIdx(r[0].id,n),this.table.deleteBatch(1,t-1,["sessionUUID",e])])}))}getBatch(e,t){return this.table.getBatch(e,t)}},t.InMemoryLogsTable=class{constructor(e,t){this.logFactory=e,this.storageLimit=t,this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return r(this,void 0,void 0,(function*(){if(this.data.length>=this.storageLimit){const e=new Error("InMemory storage quota exceeded");throw e.name="QuotaExceededError",e}const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return r(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteBatch(e,t){return r(this,void 0,void 0,(function*(){const r=[];let n=0;for(let o=0;o<this.data.length;o++){const i=this.data[o];i.sessionUUID===e&&n<t?n++:r.push(i)}this.data=r}))}deleteOldLogs(e){return r(this,void 0,void 0,(function*(){const e=this.data.slice(0,10);e.length<=1||(this.data[0].data=this.logFactory.createGapLog(e.map((e=>e.data))),this.data.splice(1,9))}))}getBatch(e,t){return r(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).slice(0,t)}))}}},253:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemorySessionsTable=t.IDBSessionsTable=void 0,t.IDBSessionsTable=class{constructor(e){this.table=e}addIfMissing(e){return r(this,void 0,void 0,(function*(){if(0===(yield this.table.countBy("uuid",e.uuid)))return this.table.add(e)}))}delete(e){return this.table.deleteByIdx(e)}getAll(){return this.table.getAll()}update(e,t){return this.table.patchByIdx(e,t)}},t.InMemorySessionsTable=class{constructor(){this.data=[]}addIfMissing(e){return r(this,void 0,void 0,(function*(){this.data.some((t=>t.uuid===e.uuid))||this.data.push(e)}))}delete(e){return r(this,void 0,void 0,(function*(){const t=this.data.findIndex((t=>t.uuid===e));-1!==t&&this.data.splice(t,1)}))}getAll(){return r(this,void 0,void 0,(function*(){return[...this.data]}))}update(e,t){return r(this,void 0,void 0,(function*(){const r=this.data.findIndex((t=>t.uuid===e));-1!==r&&(this.data[r]=Object.assign(Object.assign({},this.data[r]),t))}))}}},7967:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Table=void 0,t.Table=class{constructor(e,t){this.dbPromise=e,this.store=t}add(e){return r(this,void 0,void 0,(function*(){yield(yield this.dbPromise).add(this.store,e)}))}clear(){return r(this,void 0,void 0,(function*(){yield(yield this.dbPromise).clear(this.store)}))}countBy(e,t){return r(this,void 0,void 0,(function*(){const r=(yield this.dbPromise).transaction(this.store,"readonly");let n,o=0;if(e!==r.store.keyPath){const o=r.store.index(e),i=IDBKeyRange.only(t);n=yield o.openCursor(i)}else n=yield r.store.openCursor(IDBKeyRange.only(t));for(;n;)o++,n=yield n.continue();return o}))}deleteBatch(e,t,n){return r(this,void 0,void 0,(function*(){const r=(yield this.dbPromise).transaction(this.store,"readwrite");let o,i=0;if(n)if(n[0]!==r.store.keyPath){const e=r.store.index(n[0]),t=IDBKeyRange.only(n[1]);o=yield e.openCursor(t)}else o=yield r.store.openCursor(IDBKeyRange.only(n[1]));else o=yield r.store.openCursor();for(;o&&(i>=e&&o.delete(),i++,i!==e+t);)o=yield o.continue()}))}deleteByIdx(e){return r(this,void 0,void 0,(function*(){return(yield this.dbPromise).delete(this.store,e)}))}getAll(){return r(this,void 0,void 0,(function*(){return(yield this.dbPromise).getAll(this.store)}))}getBatch(e,t){return r(this,void 0,void 0,(function*(){const r=(yield this.dbPromise).transaction(this.store,"readonly").store.index("sessionUUID"),n=IDBKeyRange.only(e);let o=yield r.openCursor(n);const i=[];let s=0;for(;o&&(i.push(o.value),s++,s!==t);)o=yield o.continue();return i}))}patchByIdx(e,t){return r(this,void 0,void 0,(function*(){const r=(yield this.dbPromise).transaction(this.store,"readwrite"),n=yield r.store.get(e);yield r.store.put(Object.assign(Object.assign({},n),t))}))}}},8955:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Device=void 0;const n=r(8177);t.Device=class{constructor(e,t,r,n){this.browser=e,this.localStorage=t,this.sdkVersion=r,this.uuidFactory=n}getDeviceData(){let e=this.localStorage.getItem(n.LocalStorageKey.DeviceData);return null===e&&(e="{}"),JSON.parse(e)}getInfo(e){return{udid:this.getUDID(),name:e.deviceName,device_type:"",firebase_test_lab:!1,key_values:this.getDeviceData(),language:this.browser.getLanguage(),os_version:this.browser.getOSVersion(),sdk_type:"web",sdk_version:this.sdkVersion.toString(),build:e.build,version:e.version}}getUDID(){let e=this.localStorage.getItem(n.LocalStorageKey.DeviceUDID);return null===e&&(e=this.uuidFactory.create(),this.localStorage.setItem(n.LocalStorageKey.DeviceUDID,e)),e}setDeviceKey(e,t){const r=this.getDeviceData();null===t?delete r[e]:r[e]=t,this.localStorage.setItem(n.LocalStorageKey.DeviceData,JSON.stringify(r))}}},2485:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.APIFeatureDetection=void 0;const s=r(8593),a=new Map,c=(0,s.CacheDecoratorFactory)(a);class u{constructor(e,t,r,n,o){this.indexedDB=e,this.localStorage=t,this.sessionStorage=r,this.broadcastChannel=n,this.worker=o}isBroadcastChannelSupported(){return i(this,void 0,void 0,(function*(){return"function"==typeof this.broadcastChannel||(yield this.isIndexedDBSupported())||this.isLocalStorageSupported()}))}isIndexedDBSupported(){return new Promise(((e,t)=>{const r=this.indexedDB.open("bf_sdk_test");r.onerror=()=>e(!1),r.onsuccess=()=>{e(!0),r.result.close()}}))}isLocalStorageSupported(){return this.isStorageSupported(this.localStorage)}isSessionStorageSupported(){return this.isStorageSupported(this.sessionStorage)}isWorkerSupported(){return!!this.worker}isStorageSupported(e){try{const t="Bf8taM%GhLkg";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}}n([c(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"isBroadcastChannelSupported",null),n([c(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"isIndexedDBSupported",null),n([c(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Boolean)],u.prototype,"isLocalStorageSupported",null),n([c(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Boolean)],u.prototype,"isSessionStorageSupported",null),n([c(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Boolean)],u.prototype,"isWorkerSupported",null),t.APIFeatureDetection=u},3095:function(e,t){"use strict";var r,n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OperationModes=t.OperationMode=void 0,function(e){e.A="A",e.B="B",e.C="C"}(r=t.OperationMode||(t.OperationMode={})),t.OperationModes=class{constructor(e){this.apiFeatures=e}hasLeaderElection(){return this.apiFeatures.isBroadcastChannelSupported()}hasSharedDB(){return this.apiFeatures.isIndexedDBSupported()}hasSharedDeviceInfo(){return this.apiFeatures.isLocalStorageSupported()}getMode(){return n(this,void 0,void 0,(function*(){const[e,t]=yield Promise.all([this.isMultiTab(),this.isMultiThread()]);return e?t?r.A:r.B:r.C}))}isMultiTab(){return n(this,void 0,void 0,(function*(){return(yield this.hasLeaderElection())&&(yield this.hasSharedDB())&&this.hasSharedDeviceInfo()}))}isMultiThread(){return n(this,void 0,void 0,(function*(){return(yield this.hasSharedDB())&&this.apiFeatures.isWorkerSupported()}))}}},9075:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0,t.HttpClient=class{constructor(e,t,r){this.apiURL=e,this.appKey=t,this.sdkUserAgent=r}post(e,t){const r=new XMLHttpRequest;return r.open("POST",this.apiURL+e),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.setRequestHeader("X-User-Agent",this.sdkUserAgent),r.setRequestHeader("X-App-Token",this.appKey),new Promise(((e,n)=>{r.onreadystatechange=()=>{4===r.readyState&&(200!==r.status&&304!==r.status?n():e(JSON.parse(r.responseText)))},r.send(JSON.stringify(t))}))}}},3607:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=t.BugfenderClass=t.Bugfender=void 0;const n=r(7431);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return n.LogLevel}});const o=r(2853);Object.defineProperty(t,"BugfenderClass",{enumerable:!0,get:function(){return o.Bugfender}});const i=new(r(3758).PreInitProvider)(window),s=new o.Bugfender(i,"bugfender-web/20230309 (v2.2.4-bd29575-embed)",20230309);t.Bugfender=s},8572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogFactory=void 0;const n=r(7431);t.LogFactory=class{constructor(e=32e3){this.maxLogLength=e}createFromDeviceKey(e,t,r,n){return this.createFromEntry({tag:"bf_key_value",text:`Set device data "${e}"="${t}"`},r,n)}createFromEntry(e,t,r){var o,i,s,a,c,u,l,d,f,p;let h=null!==(o=e.text)&&void 0!==o?o:"";return h.length>=this.maxLogLength&&(h=h.substring(0,this.maxLogLength)+"…"),{x:r.iso,t:h,m:null!==(s=null!==(i=e.method)&&void 0!==i?i:t.method)&&void 0!==s?s:"",at:r.epoch,tg:null!==(a=e.tag)&&void 0!==a?a:"",f:null!==(u=null!==(c=e.file)&&void 0!==c?c:t.file)&&void 0!==u?u:"",l:null!==(d=null!==(l=e.line)&&void 0!==l?l:t.line)&&void 0!==d?d:0,ll:null!==(f=e.level)&&void 0!==f?f:n.LogLevel.Debug,u:null!==(p=e.url)&&void 0!==p?p:""}}createFromIssue(e,t,r){return this.createFromEntry({level:n.LogLevel.Error,tag:"bf_issue",text:e},t,r)}createGapLog(e){const t=JSON.stringify({bf_start_date:e[0].at,bf_end_date:e[e.length-1].at});return{x:e[0].x,t,m:"",at:e[0].at,tg:"bf_gap_log",f:"",l:0,ll:0,u:e[0].u}}}},5473:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopLogger=t.ConsoleLogger=void 0;class r{constructor(e,t){this.console=e,this.tag=t}error(e,t){e=`[BF-SDK]${this.tag?`[${this.tag}] `:""}${e}`,t?this.console.log(e,t):this.console.log(e)}getTagged(e){return new r(this.console,e)}log(e,t){e=`[BF-SDK]${this.tag?`[${this.tag}] `:""}${e}`,t?this.console.log(e,t):this.console.log(e)}}t.ConsoleLogger=r;class n{error(){}getTagged(){return new n}log(){}}t.NoopLogger=n},7935:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MainProvider=void 0;const a=r(7431),c=r(1562),u=r(2329),l=r(277),d=r(5881),f=r(6110),p=r(6871),h=r(3256),y=r(6422),g=r(7967),v=r(1177),b=r(8808),m=r(7941),S=r(3856),w=r(253),_=r(8955),O=r(9075),E=r(8572),P=r(5473),A=r(6105),I=r(7273),M=r(1310),D=r(3103),j=r(5041),x=r(6693),T=r(84),L=r(8593),k=s(r(4657)),B=r(4319),F=new Map,C=(0,L.CacheDecoratorFactory)(F);class R{constructor(e,t,r,n){this.options=e,this.preInitProvider=t,this.sdkUserAgent=r,this.version=n,this.apiFeatures=this.preInitProvider.provideAPIFeatureDetection(),this.commandsQueue=this.preInitProvider.provideCommandsQueue(),this.console=this.preInitProvider.provideWindow().console,this.operationModes=this.preInitProvider.provideOperationModes(),this.uuidFactory=this.preInitProvider.provideUUIDFactory(),this.window=this.preInitProvider.provideWindow()}getApiClient(){const e=new O.HttpClient(this.options.apiURL,this.options.appKey,this.sdkUserAgent);return new c.ApiClient(this.options.appKey,e)}getChannel(){return i(this,void 0,void 0,(function*(){let e;return e=(yield this.operationModes.isMultiTab())?new f.Channel((0,f.createBroadcastChannel)(),this.getLogger("Channel")):new f.MonoChannel,this.getCurrentSession().then((t=>{e.setCurrentSession(t)})),e}))}getConnection(){return new p.Connection(this.window)}getCurrentSession(){return i(this,void 0,void 0,(function*(){return new h.CurrentSession(this.getDevice(),this.getLogger("CurrentSession"),this.getSessionStorage(),yield this.getSessionsTable(),this.uuidFactory)}))}getDatabase(){return new y.Database}getDevice(){return new _.Device(this.preInitProvider.provideBrowser(),this.getLocalStorage(),this.version,this.uuidFactory)}getInitDeferred(){return(0,L.createDeferred)()}getDeviceKeysTable(){return i(this,void 0,void 0,(function*(){return(yield this.operationModes.isMultiTab())?new v.IDBDeviceKeysTable(new g.Table(this.getDatabase().get(),"devicekeys")):new v.InMemoryDeviceKeysTable}))}getIssuesTable(){return i(this,void 0,void 0,(function*(){return(yield this.operationModes.isMultiTab())?new m.IDBIssuesTable(new g.Table(this.getDatabase().get(),"issues")):new m.InMemoryIssuesTable}))}getLogger(e){return this.options.debug?new P.ConsoleLogger(this.console,e):new P.NoopLogger}getLogsTable(){return i(this,void 0,void 0,(function*(){return(yield this.operationModes.isMultiTab())?new S.IDBLogsTable(new g.Table(this.getDatabase().get(),"logs"),new E.LogFactory):new S.InMemoryLogsTable(new E.LogFactory,3e3)}))}getOverrideConsoleMethods(){return new u.OverrideConsoleMethods(this.commandsQueue,this.window)}getPrintToConsole(){return new a.PrintToConsole(this.console)}getRegisterBrowserEventsHandler(){return new l.RegisterBrowserEventsHandler(this.commandsQueue,this.window)}getRegisterErrorHandler(){return new a.RegisterErrorHandler(this.window)}getRegisterUIEventsHandler(){return new d.RegisterUIEventsHandler(this.commandsQueue,this.window)}getResetStorage(){return i(this,void 0,void 0,(function*(){return new A.ResetStorage(this.apiFeatures,yield this.getCurrentSession(),this.getDatabase(),this.getLocalStorage(),this.getSessionStorage())}))}getStorageGuard(){return new M.StorageGuard(this.getApiClient(),this.getDevice(),this.getLogger("StorageGuard"),this.options)}getStorageProcessor(){return i(this,void 0,void 0,(function*(){const e=new I.SessionFactory(this.getDevice(),this.version,this.window);return new D.StorageProcessor(this.getApiClient(),yield this.getChannel(),this.getConnection(),this.getLogger("StorageProcessor"),this.getDevice(),yield this.getDeviceKeysTable(),yield this.getIssuesTable(),yield this.getLogsTable(),this.options,e,yield this.getSessionsTable(),yield this.getStorageGuard())}))}getStorageWriterHub(){return i(this,void 0,void 0,(function*(){let e;return e=(yield this.operationModes.isMultiThread())?new k.default:new x.MainThreadStorageWriterHandler(new j.StorageWriter(yield this.getDeviceKeysTable(),yield this.getIssuesTable(),new E.LogFactory,yield this.getLogsTable())),new T.StorageWriterHub(yield this.getChannel(),this.getDevice(),e,new B.EventPrinter(this.console,this.options.printToConsole),this.options,this.getPrintToConsole(),yield this.getCurrentSession(),yield this.getStorageGuard(),this.uuidFactory,this.window)}))}getLocalStorage(){return this.apiFeatures.isLocalStorageSupported()?this.window.localStorage:new b.InMemoryStorage}getSessionStorage(){return this.apiFeatures.isSessionStorageSupported()?this.window.sessionStorage:new b.InMemoryStorage}getSessionsTable(){return i(this,void 0,void 0,(function*(){return(yield this.operationModes.isMultiTab())?new w.IDBSessionsTable(new g.Table(this.getDatabase().get(),"sessions")):new w.InMemorySessionsTable}))}}n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Object)],R.prototype,"getApiClient",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],R.prototype,"getChannel",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",p.Connection)],R.prototype,"getConnection",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],R.prototype,"getCurrentSession",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",y.Database)],R.prototype,"getDatabase",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Object)],R.prototype,"getDevice",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Object)],R.prototype,"getInitDeferred",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],R.prototype,"getDeviceKeysTable",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],R.prototype,"getIssuesTable",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],R.prototype,"getLogsTable",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",u.OverrideConsoleMethods)],R.prototype,"getOverrideConsoleMethods",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",a.PrintToConsole)],R.prototype,"getPrintToConsole",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",l.RegisterBrowserEventsHandler)],R.prototype,"getRegisterBrowserEventsHandler",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",a.RegisterErrorHandler)],R.prototype,"getRegisterErrorHandler",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",d.RegisterUIEventsHandler)],R.prototype,"getRegisterUIEventsHandler",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],R.prototype,"getResetStorage",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Object)],R.prototype,"getStorageGuard",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],R.prototype,"getStorageProcessor",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],R.prototype,"getStorageWriterHub",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Storage)],R.prototype,"getLocalStorage",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Storage)],R.prototype,"getSessionStorage",null),n([C(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],R.prototype,"getSessionsTable",null),t.MainProvider=R},3758:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreInitProvider=void 0;const i=r(7722),s=r(1667),a=r(7442),c=r(2485),u=r(3095),l=r(7998),d=r(5925),f=r(7075),p=r(8593),h=r(6884),y=new Map,g=(0,p.CacheDecoratorFactory)(y);class v{constructor(e){this.window=e}provideAPIFeatureDetection(){return new c.APIFeatureDetection(this.window.indexedDB,this.window.localStorage,this.window.sessionStorage,this.window.BroadcastChannel,this.window.Worker)}provideBrowser(){return new i.Browser(this.window)}provideCommandsQueue(){return new a.CommandsQueue(new s.CallInfoFactory,new d.Timer,this.provideUUIDFactory())}provideOperationModes(){return new u.OperationModes(this.provideAPIFeatureDetection())}provideSDKOptionsValidator(){return new l.SDKOptionsValidator(this.provideBrowser())}provideUserFeedback(){return new f.UserFeedback(this.provideCommandsQueue())}provideUUIDFactory(){return new h.UUIDFactory}provideWindow(){return this.window}}n([g(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",c.APIFeatureDetection)],v.prototype,"provideAPIFeatureDetection",null),n([g(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Object)],v.prototype,"provideBrowser",null),n([g(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",a.CommandsQueue)],v.prototype,"provideCommandsQueue",null),n([g(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",u.OperationModes)],v.prototype,"provideOperationModes",null),n([g(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",l.SDKOptionsValidator)],v.prototype,"provideSDKOptionsValidator",null),n([g(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",f.UserFeedback)],v.prototype,"provideUserFeedback",null),n([g(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Object)],v.prototype,"provideUUIDFactory",null),t.PreInitProvider=v},6105:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ResetStorage=void 0;const o=r(8177);t.ResetStorage=class{constructor(e,t,r,n,o){this.apiFeatures=e,this.session=t,this.database=r,this.localStorage=n,this.sessionStorage=o}resetIfAppChanged(e){return n(this,void 0,void 0,(function*(){const t=this.localStorage.getItem(o.LocalStorageKey.AppID);if(null!==t&&t!==e){const e=[o.LocalStorageKey.AppID,o.LocalStorageKey.DeviceData,o.LocalStorageKey.DeviceUDID],t=[o.SessionStorageKey.SessionUDID,o.SessionStorageKey.SessionUUID];if(e.forEach((e=>this.localStorage.removeItem(e))),t.forEach((e=>this.sessionStorage.removeItem(e))),this.session.reset(),yield this.apiFeatures.isIndexedDBSupported()){const e=yield this.database.get();yield Promise.all([e.clear("devicekeys"),e.clear("issues"),e.clear("logs"),e.clear("sessions")])}}this.localStorage.setItem(o.LocalStorageKey.AppID,e)}))}}},7998:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SDKOptionsValidator=void 0;const o=n(r(6177)),i=r(2023),s=r(7431);t.SDKOptionsValidator=class{constructor(e){this.browser=e,this.rules={appKey:["required","string"],apiURL:["string","url"],build:["string"],baseURL:["string","url"],debug:["boolean"],deviceName:["string"],overrideConsoleMethods:["boolean"],printToConsole:["boolean"],logBrowserEvents:["boolean"],logUIEvents:["boolean"],registerErrorHandler:["boolean"],version:["string"]}}init(e){return e=(0,s.prepareOptions)(e),(0,s.validate)(e,this.rules),Object.assign({appID:o.default.encode(i.sha256.array(e.appKey)).substring(0,10),apiURL:"https://api.bugfender.com",baseURL:"https://dashboard.bugfender.com",debug:!1,deviceName:this.browser.getDeviceName(),overrideConsoleMethods:!0,printToConsole:!0,logBrowserEvents:!0,logUIEvents:!0,registerErrorHandler:!0,version:"0.0.0",build:"0"},e)}}},7273:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionFactory=void 0,t.SessionFactory=class{constructor(e,t,r){this.device=e,this.sdkVersion=t,this.window=r}create(e,t){return{device:this.device.getInfo(t),orientation:0,batteryLevel:-1,ram_total:0,ram_free:0,ram_used:0,language:this.window.navigator.language,time:(new Date).toISOString(),sdk_type:"web",sdk_version:this.sdkVersion,session_uid:e,app_version:{app:{key:t.appKey},version:t.version,build:t.build}}}}},1310:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageGuard=void 0,t.StorageGuard=class{constructor(e,t,r,n){this.api=e,this.device=t,this.logger=r,this.options=n,this.deviceForceEnabled=!1,this.isAppValid=!0,this.isDeviceEnabled=!1,this.checkIsDeviceEnabled(),setInterval(this.checkIsDeviceEnabled.bind(this),3e5)}canProcess(){return this.logger.log("canProcess",{isAppValid:this.isAppValid,isDeviceEnabled:this.isDeviceEnabled,deviceForceEnabled:this.deviceForceEnabled}),this.isAppValid&&(this.isDeviceEnabled||this.deviceForceEnabled)}canWrite(){return this.isAppValid}checkIsDeviceEnabled(){const e=this.device.getInfo(this.options);return this.api.getDeviceStatus(e).then((e=>{this.isAppValid=e.isAppValid,this.isDeviceEnabled=e.isDeviceEnabled}),(()=>{}))}setDeviceForceEnabled(e){this.deviceForceEnabled=e}}},8177:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStorageKey=t.LocalStorageKey=void 0,(n=t.LocalStorageKey||(t.LocalStorageKey={})).AppID="bf_app_id",n.DeviceData="bf_device_data",n.DeviceUDID="bf_device_udid",(r=t.SessionStorageKey||(t.SessionStorageKey={})).SessionUDID="bf_session_udid",r.SessionUUID="bf_session_uuid"},3103:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageProcessor=void 0,t.StorageProcessor=class{constructor(e,t,r,n,o,i,s,a,c,u,l,d){this.api=e,this.channel=t,this.connection=r,this.logger=n,this.device=o,this.deviceKeysTable=i,this.issuesTable=s,this.logsTable=a,this.options=c,this.sessionFactory=u,this.sessionsTable=l,this.storageGuard=d,this.BATCH_SIZE=500,this.runIntervalMs=15e3,this.forceSend=!1,this.isRunning=!1,setInterval(this.run.bind(this),this.runIntervalMs),this.channel.onHasBecomeLeader().then((()=>{this.run()})),this.channel.onForceSend((()=>{this.forceSend=!0}))}cleanupSessions(e){return r(this,void 0,void 0,(function*(){for(const t of e){const e=yield this.channel.isSessionActive(t.uuid),r=yield this.hasData(t);if(!e&&!r)try{yield this.sessionsTable.delete(t.uuid)}catch(e){}}}))}hasData(e){return r(this,void 0,void 0,(function*(){try{const[t,r,n]=yield Promise.all([this.logsTable.count(e.uuid),this.issuesTable.count(e.uuid),this.deviceKeysTable.count(e.uuid)]);return t>0||r>0||n>0}catch(e){return!0}}))}registerSession(e){return r(this,void 0,void 0,(function*(){if(!e.id){const t=this.sessionFactory.create(e.uuid,this.options),{id:r}=yield this.api.sendSession(t);e.id=r,this.sessionsTable.update(e.uuid,{id:r})}return e}))}canRun(){return this.connection.isOnline()&&this.channel.isLeader()&&!this.isRunning}run(){return r(this,void 0,void 0,(function*(){const e=this.canRun();if(this.logger.log("Processing...",{forceSend:this.forceSend,isRunning:this.isRunning,isLeader:this.channel.isLeader(),isOnline:this.connection.isOnline(),canRun:e}),!e)return void this.logger.log("Aborted.");this.isRunning=!0;const t=this.forceSend,r=yield this.sessionsTable.getAll(),n=[],o=this.storageGuard.canProcess()||this.forceSend;let i=!1;this.logger.log("Should process device: "+(o?"Yes":"No")),this.logger.log(`${r.length} session/s found`),r.sort(((e,t)=>Number(!!t.id)-Number(!!e.id)));for(const e of r){const t=yield this.registerSession(e),r=yield this.sendIssues(t);i=i||r,r||o?(n.push(this.sendLogs(t)),this.logger.log(`Session processed. ID: ${t.id}`,{sessionHasIssues:r})):this.logger.log(`Session skipped. ID: ${t.id}`)}(i||o)&&n.push(this.sendDeviceData()),yield Promise.all(n),yield this.cleanupSessions(r),this.isRunning=!1,t&&(this.forceSend=!1),this.logger.log("Done")}))}sendDeviceData(){return r(this,void 0,void 0,(function*(){try{const e={},t=yield this.deviceKeysTable.getAll();t.forEach((t=>{e[t.data.key]=t.data.value})),t.length&&(yield Promise.all(Object.entries(e).map((([e,t])=>this.api.setDeviceKey(this.device.getUDID(),e,t)))),yield this.deviceKeysTable.deleteBatch(t.length))}catch(e){this.logger.error("sendDeviceData error",e)}}))}sendIssues(e){return r(this,void 0,void 0,(function*(){try{const t=yield this.issuesTable.getBatch(e.uuid,this.BATCH_SIZE);for(const r of t){const t=r.data,n=`${this.options.baseURL}/intent/${this.options.appID}/issue/${t.uuid}`;yield this.api.sendIssue(t.uuid,n,t.title,t.text,t.type,e.id),yield this.issuesTable.deleteById(r.id)}return t.length>0}catch(e){return this.logger.error("sendIssues error",e),!1}}))}sendLogs(e){return r(this,void 0,void 0,(function*(){try{const t=(yield this.logsTable.getBatch(e.uuid,this.BATCH_SIZE)).map((e=>e.data));t.length&&(yield this.api.sendLogs(e.id,t),yield this.logsTable.deleteBatch(e.uuid,t.length))}catch(e){this.logger.error("sendLogs error",e)}}))}}},6693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainThreadStorageWriterHandler=void 0,t.MainThreadStorageWriterHandler=class{constructor(e){this.storageWriter=e}postMessage(e){this.storageWriter.handleMessage(e)}}},84:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageWriterHub=void 0;const n=r(7431),o=r(3817),i=r(5049),s=r(2607);t.StorageWriterHub=class{constructor(e,t,r,n,i,s,a,c,u,l){this.channel=e,this.device=t,this.handler=r,this.eventPrinter=n,this.options=i,this.printToConsole=s,this.session=a,this.storageGuard=c,this.uuidFactory=u,this.window=l,this.sanitizer=new o.StorageWriterSanitizer}init(e){const t=this.session.getUUID();this.options=e,this.postMessage({type:"init",data:{options:e,sessionUUID:t}},!1)}postMessage(e,t=!0){if(!t||this.storageGuard.canWrite())try{this.handler.postMessage(this.sanitizer.sanitize(e))}catch(e){}}addDeviceKey(e){if("string"!=typeof e.key)throw new Error("The device-key 'key' must be a string.");this.device.setDeviceKey(e.key,e.value),this.postMessage({type:"device-key",data:{key:e.key,value:e.value,callInfo:e.callInfo,time:e.time}}),this.eventPrinter.printDeviceKey(e.key,e.value)}addLogEntry(e,t=!0){var r;e.log.url=(null!==(r=e.log.url)&&void 0!==r?r:this.window)?this.window.location.href:"";const n=this.mapToLogEntryText(e.log);this.postMessage({type:"log-entry",data:{log:n,callInfo:e.callInfo,time:e.time}}),t&&(this.isJsEventLogEntry(n)?this.eventPrinter.printJsEvent(n):this.printToConsole.printLog(n))}isJsEventLogEntry(e){return"js_event"===e.tag&&"string"==typeof e.text&&"string"==typeof e.url}mapToLogEntryText(e){return e.text&&(e.text=(0,n.formatLogEntryText)(e.text)),e}addLogMessage(e){const t={};switch(t.level=e.level,t.text=(0,n.format)(e.parameters),t.url=this.window?this.window.location.href:void 0,this.addLogEntry({type:i.CommandType.AddLogEntry,log:t,callInfo:e.callInfo,time:e.time},!1),e.level){case n.LogLevel.Debug:this.printToConsole.log(...e.parameters);break;case n.LogLevel.Warning:this.printToConsole.warn(...e.parameters);break;case n.LogLevel.Error:this.printToConsole.error(...e.parameters);break;case n.LogLevel.Trace:this.printToConsole.trace(...e.parameters);break;case n.LogLevel.Info:this.printToConsole.info(...e.parameters);break;case n.LogLevel.Fatal:this.printToConsole.error(...e.parameters)}}addIssue(e){if("string"!=typeof e.title)throw new Error("The crash/issue/feedback 'title' must be a string.");switch(this.postMessage({type:"issue",data:{type:e.issueType,title:e.title,uuid:e.uuid,text:e.text,callInfo:e.callInfo,time:e.time}}),this.forceSendOnce(),e.url.resolve(`${this.options.baseURL}/intent/${this.options.appID}/issue/${e.uuid}`),e.issueType){case s.IssueType.Issue:this.printToConsole.warn(`Issue: ${e.title}.\n${e.text}`);break;case s.IssueType.Crash:this.printToConsole.error(`Crash: ${e.title}.\n${e.text}`);break;case s.IssueType.Feedback:this.printToConsole.info(`User Feedback: ${e.title}.\n${e.text}`)}}forceSendOnce(){this.channel.notifyForceSend()}}},3817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageWriterSanitizer=void 0;const n=r(7431);t.StorageWriterSanitizer=class{sanitize(e){switch(e.type){case"device-key":{const t=["boolean","number","string"].includes(typeof e.data.value);e.data.key=(0,n.mapToString)(e.data.key),t||(e.data.value=(0,n.mapToString)(e.data.value));break}case"issue":e.data.title=(0,n.mapToString)(e.data.title),e.data.text=(0,n.mapToString)(e.data.text);break;case"log-entry":{const t=["tag","method","file","text","url"],r="line"in e.data.log&&void 0!==e.data.log.line,o=r&&"number"==typeof e.data.log.line,i="level"in e.data.log&&void 0!==e.data.log.level,s=i&&n.LOG_LEVELS.includes(e.data.log.level);if(t.forEach((t=>{if(t in e.data.log&&void 0!==e.data.log[t])try{e.data.log[t]=(0,n.mapToString)(e.data.log[t])}catch(r){delete e.data.log[t]}})),r&&!o)try{e.data.log.line=(0,n.mapToNumber)(e.data.log.line)}catch(t){delete e.data.log.line}if(i&&!s)try{e.data.log.level=(0,n.mapToNumber)(e.data.log.level),n.LOG_LEVELS.includes(e.data.log.level)||delete e.data.log.level}catch(t){delete e.data.log.level}break}}return e}}},5041:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageWriter=void 0,t.StorageWriter=class{constructor(e,t,r,n){this.deviceKeysTable=e,this.issuesTable=t,this.logFactory=r,this.logsTable=n,this.isClearingSpace=!1,this.logsQueue=[]}handleMessage(e){return r(this,void 0,void 0,(function*(){switch(e.type){case"device-key":return this.addDeviceKey(e.data.key,e.data.value,e.data.callInfo,e.data.time);case"init":this.options=e.data.options,this.sessionUUID=e.data.sessionUUID;break;case"issue":return this.addIssue(e.data.type,e.data.title,e.data.text,e.data.uuid,e.data.callInfo,e.data.time);case"log-entry":return this.addLogEntry(e.data.log,e.data.callInfo,e.data.time)}}))}addDeviceKey(e,t,r,n){this.deviceKeysTable.add({sessionUUID:this.sessionUUID,data:{key:e,value:t}}),this.addLog(this.logFactory.createFromDeviceKey(e,t,r,n))}addLog(e){return r(this,void 0,void 0,(function*(){const t={sessionUUID:this.sessionUUID,data:e};if(this.isClearingSpace)this.logsQueue.push(t);else try{yield this.logsTable.add(t)}catch(e){this.isQuotaExceededError(e)&&(this.logsQueue.push(t),this.isClearingSpace=!0,yield this.logsTable.deleteOldLogs(this.sessionUUID),yield this.processLogsQueue(),this.isClearingSpace=!1)}}))}addLogEntry(e,t,r){this.addLog(this.logFactory.createFromEntry(e,t,r))}addIssue(e,t,r,n,o,i){this.issuesTable.add({sessionUUID:this.sessionUUID,data:{title:t,text:r,type:e,uuid:n}}),this.addLog(this.logFactory.createFromIssue(n,o,i))}isQuotaExceededError(e){var t;return"QuotaExceededError"===e.name||"QuotaExceededError"===(null===(t=e.inner)||void 0===t?void 0:t.name)}processLogsQueue(){return r(this,void 0,void 0,(function*(){for(;this.logsQueue.length>0;){const e=this.logsQueue[0];try{yield this.logsTable.add(e),this.logsQueue.shift()}catch(e){this.isQuotaExceededError(e)&&(yield this.logsTable.deleteOldLogs(this.sessionUUID))}}}))}}},5925:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0,t.Timer=class{constructor(e=(()=>new Date)){this.getNow=e,this.lastAbsoluteTime=0}getTime(){const e=this.getNow();let t=e.getTime();return t<=this.lastAbsoluteTime&&(t=this.lastAbsoluteTime+1),this.lastAbsoluteTime=t,{iso:e.toISOString(),epoch:t}}}},2607:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.IssueType=void 0,(r=t.IssueType||(t.IssueType={})).Issue="issue",r.Crash="crash",r.Feedback="user-feedback"},7075:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserFeedback=void 0;const i=r(7431),s=r(8593),a=r(2607),c=o(r(5415)),u=o(r(3584));class l{constructor(e,t,r){this.options=e,this.onClose=t,this.onSubmit=r,this.wrapperEl=document.createElement("div"),this.shadow=this.wrapperEl.attachShadow({mode:"closed"}),this.shadow.innerHTML=u.default,this.titleEl=this.querySelector("[data-bf-title]"),this.titleEl.innerText=this.options.title,this.hintEl=this.querySelector("[data-bf-hint]"),this.options.hint&&(this.hintEl.innerText=this.options.hint,this.hintEl.classList.remove("bf-modal__hint--hidden")),this.subjectEl=this.querySelector("[data-bf-subject]"),this.subjectEl.setAttribute("placeholder",this.options.subjectPlaceholder),this.feedbackEl=this.querySelector("[data-bf-feedback]"),this.feedbackEl.setAttribute("placeholder",this.options.feedbackPlaceholder),this.submitEl=this.querySelector("[data-bf-submit]"),this.submitEl.innerText=this.options.submitLabel,this.backdropEl=this.querySelector("[data-bf-backdrop]"),this.backdropEl.addEventListener("click",this.onClose),this.closeEl=this.querySelector("[data-bf-close]"),this.closeEl.addEventListener("click",this.onClose),this.formEl=this.querySelector("[data-bf-form]"),this.submitCb=e=>{e.preventDefault(),e.stopPropagation(),this.onSubmit(this.subjectEl.value,this.feedbackEl.value)},this.formEl.addEventListener("submit",this.submitCb);const n=document.querySelector("body");n&&n.appendChild(this.wrapperEl);const o=document.createElement("style");o.textContent=c.default.toString(),this.shadow.append(o)}querySelector(e){const t=this.shadow.querySelector(e);if(t)return t;throw new Error(`Element for selector "${e}" not found.`)}drop(){this.backdropEl.removeEventListener("click",this.onClose),this.closeEl.removeEventListener("click",this.onClose),this.formEl.removeEventListener("submit",this.submitCb),this.backdropEl.remove(),this.closeEl.remove(),this.feedbackEl.remove(),this.formEl.remove(),this.subjectEl.remove(),this.submitEl.remove(),this.titleEl.remove(),this.shadow.innerHTML="",this.wrapperEl.innerHTML="",this.wrapperEl.remove()}}t.UserFeedback=class{constructor(e){this.commands=e,this.optionsValidator=new i.UserFeedbackOptionsValidator}cancel(){this.resolve({isSent:!1}),this.drop()}drop(){var e;null===(e=this.modal)||void 0===e||e.drop(),this.modal=void 0}resolve(e){var t;null===(t=this.deferred)||void 0===t||t.resolve(e),this.deferred=void 0}show(e){return n(this,void 0,void 0,(function*(){return this.deferred||(this.deferred=(0,s.createDeferred)(),this.modal=new l(this.optionsValidator.init(e),(()=>this.cancel()),((e,t)=>this.submit(e,t)))),this.deferred.promise}))}submit(e,t){return n(this,void 0,void 0,(function*(){try{const r=yield this.commands.addIssue(a.IssueType.Feedback,e,t);this.resolve({isSent:!0,feedbackURL:r})}catch(e){this.resolve({isSent:!1})}this.drop()}))}}},8593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElByXPath=t.getXPath=t.DebounceByElement=t.UnreachableCaseError=t.CacheDecoratorFactory=t.createDeferred=void 0,t.createDeferred=function(){const e={isFulfilled:!1,isRejected:!1,isResolved:!1};return e.promise=new Promise(((t,r)=>{e.resolve=r=>{const n=e;n.isFulfilled=!0,n.isRejected=!1,n.isResolved=!0,n.value=r,t(r)},e.reject=t=>{const n=e;n.isFulfilled=!0,n.isRejected=!0,n.isResolved=!1,n.err=t,r(t)}})),e},t.CacheDecoratorFactory=function(e){return function(){return function(t,r,n){const o=n.value;n.value=function(){return e.has(r)||e.set(r,o.apply(this)),e.get(r)}}}};class r extends Error{constructor(e){super(`Unreachable case: ${JSON.stringify(e)}`)}}t.UnreachableCaseError=r,t.DebounceByElement=class{constructor(e){this.wait=e,this.timers=new Map}run(e,t){this.timers.has(e)&&clearTimeout(this.timers.get(e)),this.timers.set(e,setTimeout((()=>{t(),this.timers.delete(e)}),this.wait))}},t.getXPath=function(e){let t=e;if(t instanceof Element&&t.id)return'//*[@id="'+t.id+'"]';const r=[];for(;t&&t instanceof Element;){const e=t;let n=0,o=!1,i=e.previousSibling;for(;i;)i.nodeType!==Node.DOCUMENT_TYPE_NODE&&i.nodeName===e.nodeName&&n++,i=i.previousSibling;for(i=e.nextSibling;i;){if(i.nodeName===e.nodeName){o=!0;break}i=i.nextSibling}const s=e.prefix?e.prefix+":":"",a=n||o?`[${n+1}]`:"";r.push(s+e.localName+a),t=e.parentNode}return r.length?"/"+r.reverse().join("/"):""},t.getElByXPath=function(e){var t;return null!==(t=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)&&void 0!==t?t:void 0}},6884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UUIDFactory=void 0,t.UUIDFactory=class{create(){const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},4810:(e,t,r)=>{"use strict";r.r(t),r.d(t,{add:()=>c,getSize:()=>d,removeAll:()=>l,runAll:()=>u});var n=r(4155),o=r(4155),i="[object process]"===Object.prototype.toString.call(void 0!==o?o:0)?function(e){n.on("exit",(function(){return e()})),n.on("beforeExit",(function(){return e().then((function(){return n.exit()}))})),n.on("SIGINT",(function(){return e().then((function(){return n.exit()}))})),n.on("uncaughtException",(function(t){return e().then((function(){console.trace(t),n.exit(101)}))}))}:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}},s=new Set,a=!1;function c(e){if(a||(a=!0,i(u)),"function"!=typeof e)throw new Error("Listener is no function");return s.add(e),{remove:function(){return s.delete(e)},run:function(){return s.delete(e),e()}}}function u(){var e=[];return s.forEach((function(t){e.push(t()),s.delete(t)})),Promise.all(e)}function l(){s.clear()}function d(){return s.size}},384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},5955:(e,t,r)=>{"use strict";var n=r(2584),o=r(8662),i=r(6430),s=r(5692);function a(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=a(Object.prototype.toString),d=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),p=a(Boolean.prototype.valueOf);if(c)var h=a(BigInt.prototype.valueOf);if(u)var y=a(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function v(e){return"[object Map]"===l(e)}function b(e){return"[object Set]"===l(e)}function m(e){return"[object WeakMap]"===l(e)}function S(e){return"[object WeakSet]"===l(e)}function w(e){return"[object ArrayBuffer]"===l(e)}function _(e){return"undefined"!=typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function O(e){return"[object DataView]"===l(e)}function E(e){return"undefined"!=typeof DataView&&(O.working?O(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=o,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||E(e)},t.isUint8Array=function(e){return"Uint8Array"===i(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},t.isUint16Array=function(e){return"Uint16Array"===i(e)},t.isUint32Array=function(e){return"Uint32Array"===i(e)},t.isInt8Array=function(e){return"Int8Array"===i(e)},t.isInt16Array=function(e){return"Int16Array"===i(e)},t.isInt32Array=function(e){return"Int32Array"===i(e)},t.isFloat32Array=function(e){return"Float32Array"===i(e)},t.isFloat64Array=function(e){return"Float64Array"===i(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},v.working="undefined"!=typeof Map&&v(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(v.working?v(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},m.working="undefined"!=typeof WeakMap&&m(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(m.working?m(e):e instanceof WeakMap)},S.working="undefined"!=typeof WeakSet&&S(new WeakSet),t.isWeakSet=function(e){return S(e)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),t.isArrayBuffer=_,O.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&O(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=E;var P="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(e){return"[object SharedArrayBuffer]"===l(e)}function I(e){return void 0!==P&&(void 0===A.working&&(A.working=A(new P)),A.working?A(e):e instanceof P)}function M(e){return g(e,d)}function D(e){return g(e,f)}function j(e){return g(e,p)}function x(e){return c&&g(e,h)}function T(e){return u&&g(e,y)}t.isSharedArrayBuffer=I,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=M,t.isStringObject=D,t.isBooleanObject=j,t.isBigIntObject=x,t.isSymbolObject=T,t.isBoxedPrimitive=function(e){return M(e)||D(e)||j(e)||x(e)||T(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(_(e)||I(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},9539:(e,t,r)=>{var n=r(4155),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),a=n[r];r<o;a=n[++r])v(a)||!_(a)?s+=" "+a:s+=" "+u(a);return s},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return e.apply(this,arguments)}};var s={},a=/^$/;if(n.env.NODE_DEBUG){var c=n.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+c+"$","i")}function u(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),S(n.showHidden)&&(n.showHidden=!1),S(n.depth)&&(n.depth=2),S(n.colors)&&(n.colors=!1),S(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),f(n,e,n.depth)}function l(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function d(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&P(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return m(o)||(o=f(e,o,n)),o}var i=function(e,t){if(S(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,r);if(i)return i;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),E(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(r);if(0===s.length){if(P(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(w(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return p(r)}var u,l="",d=!1,_=["{","}"];return y(r)&&(d=!0,_=["[","]"]),P(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),w(r)&&(l=" "+RegExp.prototype.toString.call(r)),O(r)&&(l=" "+Date.prototype.toUTCString.call(r)),E(r)&&(l=" "+p(r)),0!==s.length||d&&0!=r.length?n<0?w(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=d?function(e,t,r,n,o){for(var i=[],s=0,a=t.length;s<a;++s)j(t,String(s))?i.push(h(e,t,r,n,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(h(e,t,r,n,o,!0))})),i}(e,r,n,a,s):s.map((function(t){return h(e,r,n,a,t,d)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,_)):_[0]+l+_[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,o,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),j(n,o)||(s="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(a=v(r)?f(e,c.value,null):f(e,c.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),S(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function y(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function b(e){return"number"==typeof e}function m(e){return"string"==typeof e}function S(e){return void 0===e}function w(e){return _(e)&&"[object RegExp]"===A(e)}function _(e){return"object"==typeof e&&null!==e}function O(e){return _(e)&&"[object Date]"===A(e)}function E(e){return _(e)&&("[object Error]"===A(e)||e instanceof Error)}function P(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(a.test(e)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(5955),t.isArray=y,t.isBoolean=g,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=S,t.isRegExp=w,t.types.isRegExp=w,t.isObject=_,t.isDate=O,t.types.isDate=O,t.isError=E,t.types.isNativeError=E,t.isFunction=P,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(384);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",D(),t.format.apply(t,arguments))},t.inherits=r(5717),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(x&&e[x]){var t;if("function"!=typeof(t=e[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),x&&Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=x,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};e.apply(this,t).then((function(e){n.nextTick(s.bind(null,null,e))}),(function(e){n.nextTick(T.bind(null,e,s))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},6430:(e,t,r)=>{"use strict";var n=r(9804),o=r(3083),i=r(1924),s=i("Object.prototype.toString"),a=r(6410)(),c="undefined"==typeof globalThis?r.g:globalThis,u=o(),l=i("String.prototype.slice"),d={},f=r(882),p=Object.getPrototypeOf;a&&f&&p&&n(u,(function(e){if("function"==typeof c[e]){var t=new c[e];if(Symbol.toStringTag in t){var r=p(t),n=f(r,Symbol.toStringTag);if(!n){var o=p(r);n=f(o,Symbol.toStringTag)}d[e]=n.get}}}));var h=r(5692);e.exports=function(e){return!!h(e)&&(a&&Symbol.toStringTag in e?function(e){var t=!1;return n(d,(function(r,n){if(!t)try{var o=r.call(e);o===n&&(t=o)}catch(e){}})),t}(e):l(s(e),8,-1))}},4657:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(477),o=r.n(n);function i(){return o()('/*! For license information please see bugfender-v2.worker.js.LICENSE.txt */\n(()=>{var e={496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},431:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(496),t),o(r(704),t),o(r(596),t),o(r(836),t),o(r(758),t),o(r(922),t),o(r(287),t),o(r(484),t),o(r(929),t)},704:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_LEVELS=t.LogLevel=void 0,function(e){e[e.Debug=0]="Debug",e[e.Warning=1]="Warning",e[e.Error=2]="Error",e[e.Trace=3]="Trace",e[e.Info=4]="Info",e[e.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={})),t.LOG_LEVELS=[r.Debug,r.Warning,r.Error,r.Trace,r.Info,r.Fatal]},596:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function n(e){Object.entries(e).forEach((function(t){var r=t[0];void 0===t[1]&&delete e[r]}))}Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.removeUndefinedProperties=t.prepareOptions=void 0,t.prepareOptions=function(e){return n(e=r({},e)),function(e,t){["build","version"].forEach((function(t){var r=e[t];"string"==typeof r&&""===r.trim()&&delete e[t]}))}(e),e},t.removeUndefinedProperties=n,t.validate=function(e,t){var r=new RegExp(/^http(s)?:\\/\\//i);Object.entries(t).forEach((function(t){var n=t[0],o=t[1],i=e[n];o.forEach((function(e){if("required"===e){if(void 0===i)throw new Error("Bugfender requires \'".concat(n,"\' option to initialize."))}else if("string"===e){if(!["string","undefined"].includes(typeof i))throw new Error("\'".concat(n,"\' option must be a string."))}else if("url"===e){if(void 0!==i&&!r.test(i))throw new Error("\'".concat(n,"\' option must be a valid URL."))}else if("boolean"===e&&!["boolean","undefined"].includes(typeof i))throw new Error("\'".concat(n,"\' option must be a boolean."))}))}))}},836:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrintToConsole=void 0;var n=r(539),o=r(704),i=function(){function e(e){this.console=e,this.printToConsole=!1}return e.prototype.init=function(e){this.printToConsole=e},e.prototype.error=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).error.apply(e,t)},e.prototype.info=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).info.apply(e,t)},e.prototype.log=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).log.apply(e,t)},e.prototype.debug=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).debug.apply(e,t)},e.prototype.trace=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).trace.apply(e,t)},e.prototype.warn=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.printToConsole&&(e=this.console).warn.apply(e,t)},e.prototype.printLog=function(e){if(this.printToConsole){var t=["log","warn","error","trace","info","error"][e.level||o.LogLevel.Debug],r=e.tag?"[".concat(e.tag,"] "):"",i=[e.file||"",e.method||"",e.line||""].filter((function(e){return""!==e})).join(":"),a="".concat(r).concat((0,n.format)(e.text)," ").concat(i);this.console[t](a)}},e}();t.PrintToConsole=i},758:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterErrorHandler=void 0;var r=function(){function e(e){this.window=e,this.rejectionsMap=new Map}return e.prototype.init=function(e){var t=this;this.bugfender=e,this.window.addEventListener("error",(function(e){var r=e.message,n=e.lineno,o=e.filename,i=e.error;t.logError(r,o,n,i)})),this.window.addEventListener("unhandledrejection",(function(e){var r=setTimeout((function(){t.logError("Potentially unhandled promise",void 0,void 0,e.reason)}),1);t.rejectionsMap.set(e.promise,r),e.preventDefault()})),this.window.addEventListener("rejectionhandled",(function(e){clearTimeout(t.rejectionsMap.get(e.promise)),t.rejectionsMap.delete(e.promise)}))},e.prototype.logError=function(e,t,r,n){var o;n&&n.stack&&(o=n.stack),"string"==typeof e&&this.bugfender.sendCrash(e,["Error: ".concat(e),"URL: ".concat(null!=t?t:"N/A"),"Line: ".concat(null!=r?r:"N/A"),"Stack: ".concat(null!=o?o:"N/A")].join("\\n"))},e}();t.RegisterErrorHandler=r},922:function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.formatLogEntryText=t.format=void 0;var o=r(539),i=r(287);function a(e){var t=e.slice(1),r=e[0];try{r=(0,i.mapToString)(r)}catch(e){r=(0,o.format)(r)}return t.length>0?o.format.apply(void 0,n([r],t,!1)):r}t.format=a,t.formatLogEntryText=function(e){return"string"==typeof e?e:function(e){return Array.isArray(e)}(e)?a(e):""}},287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapToString=t.mapToNumber=void 0,t.mapToNumber=function(e){var t=Number(e);if(isNaN(t))throw new Error("Can\'t be casted to number");return t},t.mapToString=function(e){if(["string","symbol","bigint","function"].includes(typeof e)||e instanceof Error)try{return String(e)}catch(t){return JSON.stringify(e)}else try{return JSON.stringify(e)}catch(t){return String(e)}}},929:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.UserFeedbackOptionsValidator=void 0;var n={title:"Feedback",hint:"Please insert your feedback here and click send",subjectPlaceholder:"Subject…",feedbackPlaceholder:"Your feedback…",submitLabel:"Send",closeLabel:"Close"},o=function(){function e(){}return e.prototype.init=function(e){return r(r({},n),null!=e?e:{})},e}();t.UserFeedbackOptionsValidator=o},484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},924:(e,t,r)=>{"use strict";var n=r(210),o=r(559),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},559:(e,t,r)=>{"use strict";var n=r(612),o=r(210),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=s(n,a,arguments);if(c&&u){var r=c(t,"length");r.configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,i,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},804:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,o){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)n.call(o,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(o,e[s],s,e)}},648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||n.call(i)!==o)throw new TypeError(t+i);for(var a,s=r.call(arguments,1),c=function(){if(this instanceof a){var t=i.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return i.apply(e,s.concat(r.call(arguments)))},u=Math.max(0,i.length-s.length),l=[],f=0;f<u;f++)l.push("$"+f);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),i.prototype){var p=function(){};p.prototype=i.prototype,a.prototype=new p,p.prototype=null}return a}},612:(e,t,r)=>{"use strict";var n=r(648);e.exports=Function.prototype.bind||n},210:(e,t,r)=>{"use strict";var n,o=SyntaxError,i=Function,a=TypeError,s=function(e){try{return i(\'"use strict"; return (\'+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new a},l=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,f=r(405)(),p=Object.getPrototypeOf||function(e){return e.__proto__},y={},d="undefined"==typeof Uint8Array?n:p(Uint8Array),h={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":d,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},g=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=p(o.prototype))}return h[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(612),m=r(642),w=v.call(Function.call,Array.prototype.concat),O=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),j=v.call(Function.call,String.prototype.slice),P=/[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g,A=/\\\\(\\\\)?/g,I=function(e){var t=j(e,0,1),r=j(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,P,(function(e,t,r,o){n[n.length]=r?S(o,A,"$1"):t||e})),n},E=function(e,t){var r,n=e;if(m(b,n)&&(n="%"+(r=b[n])[0]+"%"),m(h,n)){var i=h[n];if(i===y&&(i=g(n)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a(\'"allowMissing" argument must be a boolean\');var r=I(e),n=r.length>0?r[0]:"",i=E("%"+n+"%",t),s=i.name,u=i.value,l=!1,f=i.alias;f&&(n=f[0],O(r,w([0,1],f)));for(var p=1,y=!0;p<r.length;p+=1){var d=r[p],g=j(d,0,1),b=j(d,-1);if((\'"\'===g||"\'"===g||"`"===g||\'"\'===b||"\'"===b||"`"===b)&&g!==b)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&y||(l=!0),m(h,s="%"+(n+="."+d)+"%"))u=h[s];else if(null!=u){if(!(d in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&p+1>=r.length){var v=c(u,d);u=(y=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[d]}else y=m(u,d),u=u[d];y&&!l&&(h[s]=u)}}return u}},405:(e,t,r)=>{"use strict";var n=r.g.Symbol,o=r(419);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},608:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},410:(e,t,r)=>{"use strict";var n=r(608);e.exports=function(){return n()&&!!Symbol.toStringTag}},642:(e,t,r)=>{"use strict";var n=r(612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},584:(e,t,r)=>{"use strict";var n=r(410)(),o=r(924)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},662:(e,t,r)=>{"use strict";var n,o=Object.prototype.toString,i=Function.prototype.toString,a=/^\\s*(?:function)?\\*/,s=r(410)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(i.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===o.call(e);if(!c)return!1;if(void 0===n){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&c(t)}return c(e)===n}},692:(e,t,r)=>{"use strict";var n=r(804),o=r(83),i=r(924),a=i("Object.prototype.toString"),s=r(410)(),c="undefined"==typeof globalThis?r.g:globalThis,u=o(),l=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=i("String.prototype.slice"),p={},y=r(882),d=Object.getPrototypeOf;s&&y&&d&&n(u,(function(e){var t=new c[e];if(Symbol.toStringTag in t){var r=d(t),n=y(r,Symbol.toStringTag);if(!n){var o=d(r);n=y(o,Symbol.toStringTag)}p[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return l(u,t)>-1}return!!y&&function(e){var t=!1;return n(p,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},155:e=>{var t,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var s,c=[],u=!1,l=-1;function f(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function d(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new y(e,t)),1!==c.length||u||a(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},422:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Database=void 0;const i=r(998),a=r(593);var s;!function(e){e[e.New=0]="New",e[e.V1=10]="V1",e[e.V2=20]="V2"}(s||(s={})),t.Database=class{constructor(e){this.db=(0,a.createDeferred)(),this.name=null!=e?e:"bf_sdk",this.init()}init(){return n(this,void 0,void 0,(function*(){const e=yield(0,i.openDB)(this.name,s.V2,{upgrade(e,t,r,i){var a,c,u,l;return n(this,void 0,void 0,(function*(){if(t===s.New&&(e.createObjectStore("devicekeys",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("issues",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("logs",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("sessions",{keyPath:"uuid"})),t===s.V1){const e=i.objectStore("issues");try{for(var r,n=!0,f=o(e);r=yield f.next(),!(a=r.done);){l=r.value,n=!1;try{const e=l,t=Object.assign({},e.value);t.data.text=t.data.markdown,delete t.data.markdown,e.update(t)}finally{n=!0}}}catch(e){c={error:e}}finally{try{n||a||!(u=f.return)||(yield u.call(f))}finally{if(c)throw c.error}}}}))}});this.db.resolve(e)}))}get(){return this.db.promise}}},177:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryDeviceKeysTable=t.IDBDeviceKeysTable=void 0,t.IDBDeviceKeysTable=class{constructor(e){this.table=e}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteBatch(e){return this.table.deleteBatch(0,e)}getAll(){return this.table.getAll()}},t.InMemoryDeviceKeysTable=class{constructor(){this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return r(this,void 0,void 0,(function*(){const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return r(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteBatch(e){return r(this,void 0,void 0,(function*(){this.data.splice(0,e)}))}getAll(){return r(this,void 0,void 0,(function*(){return[...this.data]}))}}},941:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryIssuesTable=t.IDBIssuesTable=void 0,t.IDBIssuesTable=class{constructor(e){this.table=e}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteById(e){return this.table.deleteByIdx(e)}getBatch(e,t){return this.table.getBatch(e,t)}},t.InMemoryIssuesTable=class{constructor(){this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return r(this,void 0,void 0,(function*(){const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return r(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteById(e){return r(this,void 0,void 0,(function*(){const t=this.data.findIndex((t=>t.id===e));-1!==t&&this.data.splice(t,1)}))}getBatch(e,t){return r(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).slice(0,t)}))}}},856:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryLogsTable=t.IDBLogsTable=void 0,t.IDBLogsTable=class{constructor(e,t){this.table=e,this.logFactory=t}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteBatch(e,t){return this.table.deleteBatch(0,t,["sessionUUID",e])}deleteOldLogs(e,t=10){return r(this,void 0,void 0,(function*(){const r=yield this.table.getBatch(e,t);if(r.length<=1)return;const n={sessionUUID:e,data:this.logFactory.createGapLog(r.map((e=>e.data)))};yield Promise.all([this.table.patchByIdx(r[0].id,n),this.table.deleteBatch(1,t-1,["sessionUUID",e])])}))}getBatch(e,t){return this.table.getBatch(e,t)}},t.InMemoryLogsTable=class{constructor(e,t){this.logFactory=e,this.storageLimit=t,this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return r(this,void 0,void 0,(function*(){if(this.data.length>=this.storageLimit){const e=new Error("InMemory storage quota exceeded");throw e.name="QuotaExceededError",e}const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return r(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteBatch(e,t){return r(this,void 0,void 0,(function*(){const r=[];let n=0;for(let o=0;o<this.data.length;o++){const i=this.data[o];i.sessionUUID===e&&n<t?n++:r.push(i)}this.data=r}))}deleteOldLogs(e){return r(this,void 0,void 0,(function*(){const e=this.data.slice(0,10);e.length<=1||(this.data[0].data=this.logFactory.createGapLog(e.map((e=>e.data))),this.data.splice(1,9))}))}getBatch(e,t){return r(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).slice(0,t)}))}}},967:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Table=void 0,t.Table=class{constructor(e,t){this.dbPromise=e,this.store=t}add(e){return r(this,void 0,void 0,(function*(){yield(yield this.dbPromise).add(this.store,e)}))}clear(){return r(this,void 0,void 0,(function*(){yield(yield this.dbPromise).clear(this.store)}))}countBy(e,t){return r(this,void 0,void 0,(function*(){const r=(yield this.dbPromise).transaction(this.store,"readonly");let n,o=0;if(e!==r.store.keyPath){const o=r.store.index(e),i=IDBKeyRange.only(t);n=yield o.openCursor(i)}else n=yield r.store.openCursor(IDBKeyRange.only(t));for(;n;)o++,n=yield n.continue();return o}))}deleteBatch(e,t,n){return r(this,void 0,void 0,(function*(){const r=(yield this.dbPromise).transaction(this.store,"readwrite");let o,i=0;if(n)if(n[0]!==r.store.keyPath){const e=r.store.index(n[0]),t=IDBKeyRange.only(n[1]);o=yield e.openCursor(t)}else o=yield r.store.openCursor(IDBKeyRange.only(n[1]));else o=yield r.store.openCursor();for(;o&&(i>=e&&o.delete(),i++,i!==e+t);)o=yield o.continue()}))}deleteByIdx(e){return r(this,void 0,void 0,(function*(){return(yield this.dbPromise).delete(this.store,e)}))}getAll(){return r(this,void 0,void 0,(function*(){return(yield this.dbPromise).getAll(this.store)}))}getBatch(e,t){return r(this,void 0,void 0,(function*(){const r=(yield this.dbPromise).transaction(this.store,"readonly").store.index("sessionUUID"),n=IDBKeyRange.only(e);let o=yield r.openCursor(n);const i=[];let a=0;for(;o&&(i.push(o.value),a++,a!==t);)o=yield o.continue();return i}))}patchByIdx(e,t){return r(this,void 0,void 0,(function*(){const r=(yield this.dbPromise).transaction(this.store,"readwrite"),n=yield r.store.get(e);yield r.store.put(Object.assign(Object.assign({},n),t))}))}}},572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogFactory=void 0;const n=r(431);t.LogFactory=class{constructor(e=32e3){this.maxLogLength=e}createFromDeviceKey(e,t,r,n){return this.createFromEntry({tag:"bf_key_value",text:`Set device data "${e}"="${t}"`},r,n)}createFromEntry(e,t,r){var o,i,a,s,c,u,l,f,p,y;let d=null!==(o=e.text)&&void 0!==o?o:"";return d.length>=this.maxLogLength&&(d=d.substring(0,this.maxLogLength)+"…"),{x:r.iso,t:d,m:null!==(a=null!==(i=e.method)&&void 0!==i?i:t.method)&&void 0!==a?a:"",at:r.epoch,tg:null!==(s=e.tag)&&void 0!==s?s:"",f:null!==(u=null!==(c=e.file)&&void 0!==c?c:t.file)&&void 0!==u?u:"",l:null!==(f=null!==(l=e.line)&&void 0!==l?l:t.line)&&void 0!==f?f:0,ll:null!==(p=e.level)&&void 0!==p?p:n.LogLevel.Debug,u:null!==(y=e.url)&&void 0!==y?y:""}}createFromIssue(e,t,r){return this.createFromEntry({level:n.LogLevel.Error,tag:"bf_issue",text:e},t,r)}createGapLog(e){const t=JSON.stringify({bf_start_date:e[0].at,bf_end_date:e[e.length-1].at});return{x:e[0].x,t,m:"",at:e[0].at,tg:"bf_gap_log",f:"",l:0,ll:0,u:e[0].u}}}},41:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageWriter=void 0,t.StorageWriter=class{constructor(e,t,r,n){this.deviceKeysTable=e,this.issuesTable=t,this.logFactory=r,this.logsTable=n,this.isClearingSpace=!1,this.logsQueue=[]}handleMessage(e){return r(this,void 0,void 0,(function*(){switch(e.type){case"device-key":return this.addDeviceKey(e.data.key,e.data.value,e.data.callInfo,e.data.time);case"init":this.options=e.data.options,this.sessionUUID=e.data.sessionUUID;break;case"issue":return this.addIssue(e.data.type,e.data.title,e.data.text,e.data.uuid,e.data.callInfo,e.data.time);case"log-entry":return this.addLogEntry(e.data.log,e.data.callInfo,e.data.time)}}))}addDeviceKey(e,t,r,n){this.deviceKeysTable.add({sessionUUID:this.sessionUUID,data:{key:e,value:t}}),this.addLog(this.logFactory.createFromDeviceKey(e,t,r,n))}addLog(e){return r(this,void 0,void 0,(function*(){const t={sessionUUID:this.sessionUUID,data:e};if(this.isClearingSpace)this.logsQueue.push(t);else try{yield this.logsTable.add(t)}catch(e){this.isQuotaExceededError(e)&&(this.logsQueue.push(t),this.isClearingSpace=!0,yield this.logsTable.deleteOldLogs(this.sessionUUID),yield this.processLogsQueue(),this.isClearingSpace=!1)}}))}addLogEntry(e,t,r){this.addLog(this.logFactory.createFromEntry(e,t,r))}addIssue(e,t,r,n,o,i){this.issuesTable.add({sessionUUID:this.sessionUUID,data:{title:t,text:r,type:e,uuid:n}}),this.addLog(this.logFactory.createFromIssue(n,o,i))}isQuotaExceededError(e){var t;return"QuotaExceededError"===e.name||"QuotaExceededError"===(null===(t=e.inner)||void 0===t?void 0:t.name)}processLogsQueue(){return r(this,void 0,void 0,(function*(){for(;this.logsQueue.length>0;){const e=this.logsQueue[0];try{yield this.logsTable.add(e),this.logsQueue.shift()}catch(e){this.isQuotaExceededError(e)&&(yield this.logsTable.deleteOldLogs(this.sessionUUID))}}}))}}},593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElByXPath=t.getXPath=t.DebounceByElement=t.UnreachableCaseError=t.CacheDecoratorFactory=t.createDeferred=void 0,t.createDeferred=function(){const e={isFulfilled:!1,isRejected:!1,isResolved:!1};return e.promise=new Promise(((t,r)=>{e.resolve=r=>{const n=e;n.isFulfilled=!0,n.isRejected=!1,n.isResolved=!0,n.value=r,t(r)},e.reject=t=>{const n=e;n.isFulfilled=!0,n.isRejected=!0,n.isResolved=!1,n.err=t,r(t)}})),e},t.CacheDecoratorFactory=function(e){return function(){return function(t,r,n){const o=n.value;n.value=function(){return e.has(r)||e.set(r,o.apply(this)),e.get(r)}}}};class r extends Error{constructor(e){super(`Unreachable case: ${JSON.stringify(e)}`)}}t.UnreachableCaseError=r,t.DebounceByElement=class{constructor(e){this.wait=e,this.timers=new Map}run(e,t){this.timers.has(e)&&clearTimeout(this.timers.get(e)),this.timers.set(e,setTimeout((()=>{t(),this.timers.delete(e)}),this.wait))}},t.getXPath=function(e){let t=e;if(t instanceof Element&&t.id)return\'//*[@id="\'+t.id+\'"]\';const r=[];for(;t&&t instanceof Element;){const e=t;let n=0,o=!1,i=e.previousSibling;for(;i;)i.nodeType!==Node.DOCUMENT_TYPE_NODE&&i.nodeName===e.nodeName&&n++,i=i.previousSibling;for(i=e.nextSibling;i;){if(i.nodeName===e.nodeName){o=!0;break}i=i.nextSibling}const a=e.prefix?e.prefix+":":"",s=n||o?`[${n+1}]`:"";r.push(a+e.localName+s),t=e.parentNode}return r.length?"/"+r.reverse().join("/"):""},t.getElByXPath=function(e){var t;return null!==(t=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)&&void 0!==t?t:void 0}},384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},955:(e,t,r)=>{"use strict";var n=r(584),o=r(662),i=r(430),a=r(692);function s(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=s(Object.prototype.toString),f=s(Number.prototype.valueOf),p=s(String.prototype.valueOf),y=s(Boolean.prototype.valueOf);if(c)var d=s(BigInt.prototype.valueOf);if(u)var h=s(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===l(e)}function v(e){return"[object Set]"===l(e)}function m(e){return"[object WeakMap]"===l(e)}function w(e){return"[object WeakSet]"===l(e)}function O(e){return"[object ArrayBuffer]"===l(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(O.working?O(e):e instanceof ArrayBuffer)}function j(e){return"[object DataView]"===l(e)}function P(e){return"undefined"!=typeof DataView&&(j.working?j(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=o,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||P(e)},t.isUint8Array=function(e){return"Uint8Array"===i(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},t.isUint16Array=function(e){return"Uint16Array"===i(e)},t.isUint32Array=function(e){return"Uint32Array"===i(e)},t.isInt8Array=function(e){return"Int8Array"===i(e)},t.isInt16Array=function(e){return"Int16Array"===i(e)},t.isInt32Array=function(e){return"Int32Array"===i(e)},t.isFloat32Array=function(e){return"Float32Array"===i(e)},t.isFloat64Array=function(e){return"Float64Array"===i(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},b.working="undefined"!=typeof Map&&b(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},m.working="undefined"!=typeof WeakMap&&m(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(m.working?m(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},O.working="undefined"!=typeof ArrayBuffer&&O(new ArrayBuffer),t.isArrayBuffer=S,j.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&j(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=P;var A="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function I(e){return"[object SharedArrayBuffer]"===l(e)}function E(e){return void 0!==A&&(void 0===I.working&&(I.working=I(new A)),I.working?I(e):e instanceof A)}function D(e){return g(e,f)}function x(e){return g(e,p)}function U(e){return g(e,y)}function B(e){return c&&g(e,d)}function T(e){return u&&g(e,h)}t.isSharedArrayBuffer=E,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=D,t.isStringObject=x,t.isBooleanObject=U,t.isBigIntObject=B,t.isSymbolObject=T,t.isBoxedPrimitive=function(e){return D(e)||x(e)||U(e)||B(e)||T(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||E(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},539:(e,t,r)=>{var n=r(155),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<o;s=n[++r])b(s)||!S(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return e.apply(this,arguments)}};var a={},s=/^$/;if(n.env.NODE_DEBUG){var c=n.env.NODE_DEBUG;c=c.replace(/[|\\\\{}()[\\]^$+?.]/g,"\\\\$&").replace(/\\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+c+"$","i")}function u(e,r){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),p(n,e,n.depth)}function l(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function f(e,t){return e}function p(e,r,n){if(e.customInspect&&r&&A(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return m(o)||(o=p(e,o,n)),o}var i=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(m(t)){var r="\'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'";return e.stylize(r,"string")}return v(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}(e,r);if(i)return i;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),P(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return y(r);if(0===a.length){if(A(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(O(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(j(r))return e.stylize(Date.prototype.toString.call(r),"date");if(P(r))return y(r)}var u,l="",f=!1,S=["{","}"];return h(r)&&(f=!0,S=["[","]"]),A(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),O(r)&&(l=" "+RegExp.prototype.toString.call(r)),j(r)&&(l=" "+Date.prototype.toUTCString.call(r)),P(r)&&(l=" "+y(r)),0!==a.length||f&&0!=r.length?n<0?O(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=f?function(e,t,r,n,o){for(var i=[],a=0,s=t.length;a<s;++a)U(t,String(a))?i.push(d(e,t,r,n,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\\d+$/)||i.push(d(e,t,r,n,o,!0))})),i}(e,r,n,s,a):a.map((function(t){return d(e,r,n,s,t,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\\n"),e+t.replace(/\\u001b\\[\\d\\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\\n ")+" "+e.join(",\\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,S)):S[0]+l+S[1]}function y(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),U(n,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=b(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\\n")>-1&&(s=i?s.split("\\n").map((function(e){return"  "+e})).join("\\n").slice(2):"\\n"+s.split("\\n").map((function(e){return"   "+e})).join("\\n")):s=e.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function b(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function w(e){return void 0===e}function O(e){return S(e)&&"[object RegExp]"===I(e)}function S(e){return"object"==typeof e&&null!==e}function j(e){return S(e)&&"[object Date]"===I(e)}function P(e){return S(e)&&("[object Error]"===I(e)||e instanceof Error)}function A(e){return"function"==typeof e}function I(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(s.test(e)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(955),t.isArray=h,t.isBoolean=g,t.isNull=b,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=O,t.types.isRegExp=O,t.isObject=S,t.isDate=j,t.types.isDate=j,t.isError=P,t.types.isNativeError=P,t.isFunction=A,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(384);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",x(),t.format.apply(t,arguments))},t.inherits=r(717),t._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var B="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError(\'The "original" argument must be of type Function\');if(B&&e[B]){var t;if("function"!=typeof(t=e[B]))throw new TypeError(\'The "util.promisify.custom" argument must be of type Function\');return Object.defineProperty(t,B,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),B&&Object.defineProperty(t,B,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=B,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError(\'The "original" argument must be of type Function\');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(T.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},430:(e,t,r)=>{"use strict";var n=r(804),o=r(83),i=r(924),a=i("Object.prototype.toString"),s=r(410)(),c="undefined"==typeof globalThis?r.g:globalThis,u=o(),l=i("String.prototype.slice"),f={},p=r(882),y=Object.getPrototypeOf;s&&p&&y&&n(u,(function(e){if("function"==typeof c[e]){var t=new c[e];if(Symbol.toStringTag in t){var r=y(t),n=p(r,Symbol.toStringTag);if(!n){var o=y(r);n=p(o,Symbol.toStringTag)}f[e]=n.get}}}));var d=r(692);e.exports=function(e){return!!d(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return n(f,(function(r,n){if(!t)try{var o=r.call(e);o===n&&(t=o)}catch(e){}})),t}(e):l(a(e),8,-1))}},83:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof o[n[t]]&&(e[e.length]=n[t]);return e}},882:(e,t,r)=>{"use strict";var n=r(210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},998:(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteDB:()=>b,openDB:()=>g,unwrap:()=>h,wrap:()=>d});const n=(e,t)=>t.some((t=>e instanceof t));let o,i;const a=new WeakMap,s=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap;let f={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return d(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){f=e(f)}function y(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(h(this),e),d(a.get(this))}:function(...e){return d(t.apply(h(this),e))}:function(e,...r){const n=t.call(h(this),e,...r);return c.set(n,e.sort?e.sort():[e]),d(n)}:(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),n()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));s.set(e,t)}(e),n(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,f):e);var t}function d(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(d(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&a.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=y(e);return t!==e&&(u.set(e,t),l.set(t,e)),t}const h=e=>l.get(e);function g(e,t,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const a=indexedDB.open(e,t),s=d(a);return n&&a.addEventListener("upgradeneeded",(e=>{n(d(a.result),e.oldVersion,e.newVersion,d(a.transaction),e)})),r&&a.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),s.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}function b(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(e=>t(e.oldVersion,e))),d(r).then((()=>{}))}const v=["get","getKey","getAll","getAllKeys","count"],m=["put","add","delete","clear"],w=new Map;function O(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=m.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!v.includes(r))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),o&&i.done]))[0]};return w.set(t,i),i}p((e=>({...e,get:(t,r,n)=>O(t,r)||e.get(t,r,n),has:(t,r)=>!!O(t,r)||e.has(t,r)})));const S=["continue","continuePrimaryKey","advance"],j={},P=new WeakMap,A=new WeakMap,I={get(e,t){if(!S.includes(t))return e[t];let r=j[t];return r||(r=j[t]=function(...e){P.set(this,A.get(this)[t](...e))}),r}};async function*E(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const r=new Proxy(t,I);for(A.set(r,t),l.set(r,h(t));t;)yield r,t=await(P.get(r)||t.continue()),P.delete(r)}function D(e,t){return t===Symbol.asyncIterator&&n(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&n(e,[IDBIndex,IDBObjectStore])}p((e=>({...e,get:(t,r,n)=>D(t,r)?E:e.get(t,r,n),has:(t,r)=>D(t,r)||e.has(t,r)})))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=r(422),t=r(967),n=r(572),o=r(177),i=r(941),a=r(856),s=r(41),c=new e.Database,u=new n.LogFactory,l=new o.IDBDeviceKeysTable(new t.Table(c.get(),"devicekeys")),f=new i.IDBIssuesTable(new t.Table(c.get(),"issues")),p=new a.IDBLogsTable(new t.Table(c.get(),"logs"),u),y=new s.StorageWriter(l,f,u,p);self.addEventListener("message",(e=>{y.handleMessage(e.data)}))})()})();\n',"Worker",void 0,void 0)}},477:e=>{"use strict";e.exports=function(e,t,r,n){var o=self||window;try{try{var i;try{i=new o.Blob([e])}catch(t){(i=new(o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder)).append(e),i=i.getBlob()}var s=o.URL||o.webkitURL,a=s.createObjectURL(i),c=new o[t](a,r);return s.revokeObjectURL(a),c}catch(n){return new o[t]("data:application/javascript,".concat(encodeURIComponent(e)),r)}}catch(e){if(!n)throw Error("Inline worker is not supported");return new o[t](n,r)}}},8698:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3083:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof o[n[t]]&&(e[e.length]=n[t]);return e}},882:(e,t,r)=>{"use strict";var n=r(210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},2998:(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteDB:()=>v,openDB:()=>g,unwrap:()=>y,wrap:()=>h});const n=(e,t)=>t.some((t=>e instanceof t));let o,i;const s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap;let d={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return h(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){d=e(d)}function p(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(y(this),e),h(s.get(this))}:function(...e){return h(t.apply(y(this),e))}:function(e,...r){const n=t.call(y(this),e,...r);return c.set(n,e.sort?e.sort():[e]),h(n)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),n()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));a.set(e,t)}(e),n(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,d):e);var t}function h(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(h(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&s.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=p(e);return t!==e&&(u.set(e,t),l.set(t,e)),t}const y=e=>l.get(e);function g(e,t,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const s=indexedDB.open(e,t),a=h(s);return n&&s.addEventListener("upgradeneeded",(e=>{n(h(s.result),e.oldVersion,e.newVersion,h(s.transaction),e)})),r&&s.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),a.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function v(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(e=>t(e.oldVersion,e))),h(r).then((()=>{}))}const b=["get","getKey","getAll","getAllKeys","count"],m=["put","add","delete","clear"],S=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(S.get(t))return S.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=m.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!b.includes(r))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let s=i.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),o&&i.done]))[0]};return S.set(t,i),i}f((e=>({...e,get:(t,r,n)=>w(t,r)||e.get(t,r,n),has:(t,r)=>!!w(t,r)||e.has(t,r)})));const _=["continue","continuePrimaryKey","advance"],O={},E=new WeakMap,P=new WeakMap,A={get(e,t){if(!_.includes(t))return e[t];let r=O[t];return r||(r=O[t]=function(...e){E.set(this,P.get(this)[t](...e))}),r}};async function*I(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const r=new Proxy(t,A);for(P.set(r,t),l.set(r,y(t));t;)yield r,t=await(E.get(r)||t.continue()),E.delete(r)}function M(e,t){return t===Symbol.asyncIterator&&n(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&n(e,[IDBIndex,IDBObjectStore])}f((e=>({...e,get:(t,r,n)=>M(t,r)?I:e.get(t,r,n),has:(t,r)=>M(t,r)||e.has(t,r)})))}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};return(()=>{"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0});const t=__webpack_require__(3607);window.Bugfender=t.Bugfender})(),__webpack_exports__})()));
//# sourceMappingURL=bugfender-v2.js.map